<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DIPY &#8212; dipy 0.15.0dev documentation</title>
    
    <link rel="stylesheet" href="../_static/dipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.15.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head>
  <body role="document">
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/dipy-banner.png" alt="DIPY logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">API Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


<h4> Site Navigation </h4>
  <ul>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.org/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.org/">NIPY Projects</a></li>
    <li><a class="reference external"
	href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing List</a></li>
    <li><a class="reference external"
	href="http://nipy.org/nipy/license.html">License</a></li>
  </ul>


  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">workflows</span></code></a><ul>
<li><a class="reference internal" href="#module-dipy.workflows.align">Module: <code class="docutils literal"><span class="pre">workflows.align</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.base">Module: <code class="docutils literal"><span class="pre">workflows.base</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.combined_workflow">Module: <code class="docutils literal"><span class="pre">workflows.combined_workflow</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.denoise">Module: <code class="docutils literal"><span class="pre">workflows.denoise</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.docstring_parser">Module: <code class="docutils literal"><span class="pre">workflows.docstring_parser</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.flow_runner">Module: <code class="docutils literal"><span class="pre">workflows.flow_runner</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.io">Module: <code class="docutils literal"><span class="pre">workflows.io</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.mask">Module: <code class="docutils literal"><span class="pre">workflows.mask</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.multi_io">Module: <code class="docutils literal"><span class="pre">workflows.multi_io</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.reconst">Module: <code class="docutils literal"><span class="pre">workflows.reconst</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.segment">Module: <code class="docutils literal"><span class="pre">workflows.segment</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.tracking">Module: <code class="docutils literal"><span class="pre">workflows.tracking</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.workflows.workflow">Module: <code class="docutils literal"><span class="pre">workflows.workflow</span></code></a><ul>
<li><a class="reference internal" href="#resliceflow"><code class="docutils literal"><span class="pre">ResliceFlow</span></code></a></li>
<li><a class="reference internal" href="#workflow"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#load-nifti">load_nifti</a></li>
<li><a class="reference internal" href="#reslice">reslice</a></li>
<li><a class="reference internal" href="#save-nifti">save_nifti</a></li>
<li><a class="reference internal" href="#introspectiveargumentparser"><code class="docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a></li>
<li><a class="reference internal" href="#numpydocstring"><code class="docutils literal"><span class="pre">NumpyDocString</span></code></a></li>
<li><a class="reference internal" href="#get-args-default">get_args_default</a></li>
<li><a class="reference internal" href="#combinedworkflow"><code class="docutils literal"><span class="pre">CombinedWorkflow</span></code></a></li>
<li><a class="reference internal" href="#id4"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#iteritems">iteritems</a></li>
<li><a class="reference internal" href="#nlmeansflow"><code class="docutils literal"><span class="pre">NLMeansFlow</span></code></a></li>
<li><a class="reference internal" href="#id5"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#estimate-sigma">estimate_sigma</a></li>
<li><a class="reference internal" href="#nlmeans">nlmeans</a></li>
<li><a class="reference internal" href="#id7"><code class="docutils literal"><span class="pre">NumpyDocString</span></code></a></li>
<li><a class="reference internal" href="#reader"><code class="docutils literal"><span class="pre">Reader</span></code></a></li>
<li><a class="reference internal" href="#dedent-lines">dedent_lines</a></li>
<li><a class="reference internal" href="#warn">warn</a></li>
<li><a class="reference internal" href="#id8"><code class="docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a></li>
<li><a class="reference internal" href="#get-level">get_level</a></li>
<li><a class="reference internal" href="#id9">iteritems</a></li>
<li><a class="reference internal" href="#run-flow">run_flow</a></li>
<li><a class="reference internal" href="#ioinfoflow"><code class="docutils literal"><span class="pre">IoInfoFlow</span></code></a></li>
<li><a class="reference internal" href="#id10"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#id11">load_nifti</a></li>
<li><a class="reference internal" href="#maskflow"><code class="docutils literal"><span class="pre">MaskFlow</span></code></a></li>
<li><a class="reference internal" href="#id12"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#id13">load_nifti</a></li>
<li><a class="reference internal" href="#id14">save_nifti</a></li>
<li><a class="reference internal" href="#ioiterator"><code class="docutils literal"><span class="pre">IOIterator</span></code></a></li>
<li><a class="reference internal" href="#basename-without-extension">basename_without_extension</a></li>
<li><a class="reference internal" href="#common-start">common_start</a></li>
<li><a class="reference internal" href="#concatenate-inputs">concatenate_inputs</a></li>
<li><a class="reference internal" href="#connect-output-paths">connect_output_paths</a></li>
<li><a class="reference internal" href="#id15">get_args_default</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#io-iterator">io_iterator</a></li>
<li><a class="reference internal" href="#id16">io_iterator_</a></li>
<li><a class="reference internal" href="#slash-to-under">slash_to_under</a></li>
<li><a class="reference internal" href="#constrainedsphericaldeconvmodel"><code class="docutils literal"><span class="pre">ConstrainedSphericalDeconvModel</span></code></a></li>
<li><a class="reference internal" href="#csaodfmodel"><code class="docutils literal"><span class="pre">CsaOdfModel</span></code></a></li>
<li><a class="reference internal" href="#diffusionkurtosismodel"><code class="docutils literal"><span class="pre">DiffusionKurtosisModel</span></code></a></li>
<li><a class="reference internal" href="#reconstcsaflow"><code class="docutils literal"><span class="pre">ReconstCSAFlow</span></code></a></li>
<li><a class="reference internal" href="#reconstcsdflow"><code class="docutils literal"><span class="pre">ReconstCSDFlow</span></code></a></li>
<li><a class="reference internal" href="#reconstdkiflow"><code class="docutils literal"><span class="pre">ReconstDkiFlow</span></code></a></li>
<li><a class="reference internal" href="#reconstdtiflow"><code class="docutils literal"><span class="pre">ReconstDtiFlow</span></code></a></li>
<li><a class="reference internal" href="#reconstmapmriflow"><code class="docutils literal"><span class="pre">ReconstMAPMRIFlow</span></code></a></li>
<li><a class="reference internal" href="#tensormodel"><code class="docutils literal"><span class="pre">TensorModel</span></code></a></li>
<li><a class="reference internal" href="#id52"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#auto-response">auto_response</a></li>
<li><a class="reference internal" href="#axial-diffusivity">axial_diffusivity</a></li>
<li><a class="reference internal" href="#color-fa">color_fa</a></li>
<li><a class="reference internal" href="#fractional-anisotropy">fractional_anisotropy</a></li>
<li><a class="reference internal" href="#geodesic-anisotropy">geodesic_anisotropy</a></li>
<li><a class="reference internal" href="#get-mode">get_mode</a></li>
<li><a class="reference internal" href="#get-sphere">get_sphere</a></li>
<li><a class="reference internal" href="#gradient-table">gradient_table</a></li>
<li><a class="reference internal" href="#literal-eval">literal_eval</a></li>
<li><a class="reference internal" href="#lower-triangular">lower_triangular</a></li>
<li><a class="reference internal" href="#mean-diffusivity">mean_diffusivity</a></li>
<li><a class="reference internal" href="#peaks-from-model">peaks_from_model</a></li>
<li><a class="reference internal" href="#peaks-to-niftis">peaks_to_niftis</a></li>
<li><a class="reference internal" href="#radial-diffusivity">radial_diffusivity</a></li>
<li><a class="reference internal" href="#read-bvals-bvecs">read_bvals_bvecs</a></li>
<li><a class="reference internal" href="#save-peaks">save_peaks</a></li>
<li><a class="reference internal" href="#split-dki-param">split_dki_param</a></li>
<li><a class="reference internal" href="#medianotsuflow"><code class="docutils literal"><span class="pre">MedianOtsuFlow</span></code></a></li>
<li><a class="reference internal" href="#id65"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#id66">load_nifti</a></li>
<li><a class="reference internal" href="#median-otsu">median_otsu</a></li>
<li><a class="reference internal" href="#id69">save_nifti</a></li>
<li><a class="reference internal" href="#dettrackpamflow"><code class="docutils literal"><span class="pre">DetTrackPAMFlow</span></code></a></li>
<li><a class="reference internal" href="#deterministicmaximumdirectiongetter"><code class="docutils literal"><span class="pre">DeterministicMaximumDirectionGetter</span></code></a></li>
<li><a class="reference internal" href="#generictrackflow"><code class="docutils literal"><span class="pre">GenericTrackFlow</span></code></a></li>
<li><a class="reference internal" href="#localtracking"><code class="docutils literal"><span class="pre">LocalTracking</span></code></a></li>
<li><a class="reference internal" href="#thresholdtissueclassifier"><code class="docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a></li>
<li><a class="reference internal" href="#tractogram"><code class="docutils literal"><span class="pre">Tractogram</span></code></a></li>
<li><a class="reference internal" href="#id72"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#id73">load_nifti</a></li>
<li><a class="reference internal" href="#load-peaks">load_peaks</a></li>
<li><a class="reference internal" href="#save">save</a></li>
<li><a class="reference internal" href="#id74"><code class="docutils literal"><span class="pre">Workflow</span></code></a></li>
<li><a class="reference internal" href="#id75">io_iterator_</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/dipy.workflows.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<div id="searchbox-ml" style="display: none">
  <h3>Search mailing list archive</h3>
  <script type="text/javascript">
    function mlsearch(curobj)
    {
    curobj.q.value="site:mail.python.org/pipermail/neuroimaging/ "+curobj.userquery.value
    }
  </script>
  <form action="http://www.google.com/search" method="get" onSubmit="mlsearch(this)">
    <input name="userquery" size="13" type="text" /> <input type="submit" value="Go" />
    <input name="q" type="hidden" />
  </form>
</div>

<div id="searchbox-site" style="display: none">
  <h3>Search this site</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="13" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    </p>
</div>
<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


<script>
     ((window.gitter = {}).chat = {}).options = {
       room: 'nipy/dipy'
     };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-dipy.workflows">
<span id="workflows"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">workflows</span></code><a class="headerlink" href="#module-dipy.workflows" title="Permalink to this headline">¶</a></h1>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<div class="section" id="module-dipy.workflows.align">
<span id="module-workflows-align"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.align</span></code><a class="headerlink" href="#module-dipy.workflows.align" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.ResliceFlow" title="dipy.workflows.align.ResliceFlow"><code class="xref py py-obj docutils literal"><span class="pre">ResliceFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.align.Workflow" title="dipy.workflows.align.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.load_nifti" title="dipy.workflows.align.load_nifti"><code class="xref py py-obj docutils literal"><span class="pre">load_nifti</span></code></a>(fname[,&nbsp;return_img,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.align.reslice" title="dipy.workflows.align.reslice"><code class="xref py py-obj docutils literal"><span class="pre">reslice</span></code></a>(data,&nbsp;affine,&nbsp;zooms,&nbsp;new_zooms[,&nbsp;...])</td>
<td>Reslice data with new voxel resolution defined by <code class="docutils literal"><span class="pre">new_zooms</span></code></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.save_nifti" title="dipy.workflows.align.save_nifti"><code class="xref py py-obj docutils literal"><span class="pre">save_nifti</span></code></a>(fname,&nbsp;data,&nbsp;affine[,&nbsp;hdr])</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.base">
<span id="module-workflows-base"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.base</span></code><a class="headerlink" href="#module-dipy.workflows.base" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser" title="dipy.workflows.base.IntrospectiveArgumentParser"><code class="xref py py-obj docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a>([prog,&nbsp;usage,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.NumpyDocString" title="dipy.workflows.base.NumpyDocString"><code class="xref py py-obj docutils literal"><span class="pre">NumpyDocString</span></code></a>(docstring[,&nbsp;config])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.base.get_args_default" title="dipy.workflows.base.get_args_default"><code class="xref py py-obj docutils literal"><span class="pre">get_args_default</span></code></a>(func)</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.combined_workflow">
<span id="module-workflows-combined-workflow"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.combined_workflow</span></code><a class="headerlink" href="#module-dipy.workflows.combined_workflow" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow" title="dipy.workflows.combined_workflow.CombinedWorkflow"><code class="xref py py-obj docutils literal"><span class="pre">CombinedWorkflow</span></code></a>([output_strategy,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow" title="dipy.workflows.combined_workflow.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.iteritems" title="dipy.workflows.combined_workflow.iteritems"><code class="xref py py-obj docutils literal"><span class="pre">iteritems</span></code></a>(d,&nbsp;**kw)</td>
<td>Return an iterator over the (key, value) pairs of a dictionary.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.denoise">
<span id="module-workflows-denoise"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.denoise</span></code><a class="headerlink" href="#module-dipy.workflows.denoise" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.NLMeansFlow" title="dipy.workflows.denoise.NLMeansFlow"><code class="xref py py-obj docutils literal"><span class="pre">NLMeansFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow" title="dipy.workflows.denoise.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.estimate_sigma" title="dipy.workflows.denoise.estimate_sigma"><code class="xref py py-obj docutils literal"><span class="pre">estimate_sigma</span></code></a>(arr[,&nbsp;...])</td>
<td>Standard deviation estimation from local patches</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.denoise.nlmeans" title="dipy.workflows.denoise.nlmeans"><code class="xref py py-obj docutils literal"><span class="pre">nlmeans</span></code></a>(arr,&nbsp;sigma[,&nbsp;mask,&nbsp;patch_radius,&nbsp;...])</td>
<td>Non-local means for denoising 3D and 4D images</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.docstring_parser">
<span id="module-workflows-docstring-parser"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.docstring_parser</span></code><a class="headerlink" href="#module-dipy.workflows.docstring_parser" title="Permalink to this headline">¶</a></h2>
<p>This was taken directly from the file docscrape.py of numpydoc package.</p>
<p>Copyright (C) 2008 Stefan van der Walt &lt;<a class="reference external" href="mailto:stefan&#37;&#52;&#48;mentat&#46;za&#46;net">stefan<span>&#64;</span>mentat<span>&#46;</span>za<span>&#46;</span>net</a>&gt;,
Pauli Virtanen &lt;<a class="reference external" href="mailto:pav&#37;&#52;&#48;iki&#46;fi">pav<span>&#64;</span>iki<span>&#46;</span>fi</a>&gt;</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the
distribution.</li>
</ol>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR <a href="#id1"><span class="problematic" id="id2">``</span></a>AS IS&#8217;&#8217; AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.NumpyDocString" title="dipy.workflows.docstring_parser.NumpyDocString"><code class="xref py py-obj docutils literal"><span class="pre">NumpyDocString</span></code></a>(docstring[,&nbsp;config])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader" title="dipy.workflows.docstring_parser.Reader"><code class="xref py py-obj docutils literal"><span class="pre">Reader</span></code></a>(data)</td>
<td>A line-based string reader.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.dedent_lines" title="dipy.workflows.docstring_parser.dedent_lines"><code class="xref py py-obj docutils literal"><span class="pre">dedent_lines</span></code></a>(lines)</td>
<td>Deindent a list of lines maximally</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.warn" title="dipy.workflows.docstring_parser.warn"><code class="xref py py-obj docutils literal"><span class="pre">warn</span></code></a></td>
<td>Issue a warning, or maybe ignore it or raise an exception.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.flow_runner">
<span id="module-workflows-flow-runner"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.flow_runner</span></code><a class="headerlink" href="#module-dipy.workflows.flow_runner" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser"><code class="xref py py-obj docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a>([prog,&nbsp;usage,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.get_level" title="dipy.workflows.flow_runner.get_level"><code class="xref py py-obj docutils literal"><span class="pre">get_level</span></code></a>(lvl)</td>
<td>Transforms the loggin level passed on the commandline into a proper logging level name.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.flow_runner.iteritems" title="dipy.workflows.flow_runner.iteritems"><code class="xref py py-obj docutils literal"><span class="pre">iteritems</span></code></a>(d,&nbsp;**kw)</td>
<td>Return an iterator over the (key, value) pairs of a dictionary.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.run_flow" title="dipy.workflows.flow_runner.run_flow"><code class="xref py py-obj docutils literal"><span class="pre">run_flow</span></code></a>(flow)</td>
<td>Wraps the process of building an argparser that reflects the workflow that we want to run along with some generic parameters like logging, force and output strategies.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.io">
<span id="module-workflows-io"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.io</span></code><a class="headerlink" href="#module-dipy.workflows.io" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.IoInfoFlow" title="dipy.workflows.io.IoInfoFlow"><code class="xref py py-obj docutils literal"><span class="pre">IoInfoFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.io.Workflow" title="dipy.workflows.io.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.load_nifti" title="dipy.workflows.io.load_nifti"><code class="xref py py-obj docutils literal"><span class="pre">load_nifti</span></code></a>(fname[,&nbsp;return_img,&nbsp;...])</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.mask">
<span id="module-workflows-mask"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.mask</span></code><a class="headerlink" href="#module-dipy.workflows.mask" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.MaskFlow" title="dipy.workflows.mask.MaskFlow"><code class="xref py py-obj docutils literal"><span class="pre">MaskFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow" title="dipy.workflows.mask.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.load_nifti" title="dipy.workflows.mask.load_nifti"><code class="xref py py-obj docutils literal"><span class="pre">load_nifti</span></code></a>(fname[,&nbsp;return_img,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.mask.save_nifti" title="dipy.workflows.mask.save_nifti"><code class="xref py py-obj docutils literal"><span class="pre">save_nifti</span></code></a>(fname,&nbsp;data,&nbsp;affine[,&nbsp;hdr])</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.multi_io">
<span id="module-workflows-multi-io"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.multi_io</span></code><a class="headerlink" href="#module-dipy.workflows.multi_io" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator" title="dipy.workflows.multi_io.IOIterator"><code class="xref py py-obj docutils literal"><span class="pre">IOIterator</span></code></a>([output_strategy,&nbsp;mix_names])</td>
<td>Create output filenames that work nicely with multiple input files from</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.basename_without_extension" title="dipy.workflows.multi_io.basename_without_extension"><code class="xref py py-obj docutils literal"><span class="pre">basename_without_extension</span></code></a>(fname)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.common_start" title="dipy.workflows.multi_io.common_start"><code class="xref py py-obj docutils literal"><span class="pre">common_start</span></code></a>(sa,&nbsp;sb)</td>
<td>Returns the longest common substring from the beginning of sa and sb</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.concatenate_inputs" title="dipy.workflows.multi_io.concatenate_inputs"><code class="xref py py-obj docutils literal"><span class="pre">concatenate_inputs</span></code></a>(multi_inputs)</td>
<td>Concatenate list of inputs</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.connect_output_paths" title="dipy.workflows.multi_io.connect_output_paths"><code class="xref py py-obj docutils literal"><span class="pre">connect_output_paths</span></code></a>(inputs,&nbsp;out_dir,&nbsp;out_files)</td>
<td>Generates a list of output files paths based on input files and output strategies.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.get_args_default" title="dipy.workflows.multi_io.get_args_default"><code class="xref py py-obj docutils literal"><span class="pre">get_args_default</span></code></a>(func)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.glob" title="dipy.workflows.multi_io.glob"><code class="xref py py-obj docutils literal"><span class="pre">glob</span></code></a>(pathname,&nbsp;*[,&nbsp;recursive])</td>
<td>Return a list of paths matching a pathname pattern.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.io_iterator" title="dipy.workflows.multi_io.io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">io_iterator</span></code></a>(inputs,&nbsp;out_dir,&nbsp;fnames[,&nbsp;...])</td>
<td>Creates an IOIterator from the parameters.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.io_iterator_" title="dipy.workflows.multi_io.io_iterator_"><code class="xref py py-obj docutils literal"><span class="pre">io_iterator_</span></code></a>(frame,&nbsp;fnc[,&nbsp;output_strategy,&nbsp;...])</td>
<td>Creates an IOIterator using introspection.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.slash_to_under" title="dipy.workflows.multi_io.slash_to_under"><code class="xref py py-obj docutils literal"><span class="pre">slash_to_under</span></code></a>(dir_str)</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.reconst">
<span id="module-workflows-reconst"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.reconst</span></code><a class="headerlink" href="#module-dipy.workflows.reconst" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel" title="dipy.workflows.reconst.ConstrainedSphericalDeconvModel"><code class="xref py py-obj docutils literal"><span class="pre">ConstrainedSphericalDeconvModel</span></code></a>(gtab,&nbsp;response)</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.CsaOdfModel" title="dipy.workflows.reconst.CsaOdfModel"><code class="xref py py-obj docutils literal"><span class="pre">CsaOdfModel</span></code></a>(gtab,&nbsp;sh_order[,&nbsp;smooth,&nbsp;...])</td>
<td>Implementation of Constant Solid Angle reconstruction method.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.DiffusionKurtosisModel" title="dipy.workflows.reconst.DiffusionKurtosisModel"><code class="xref py py-obj docutils literal"><span class="pre">DiffusionKurtosisModel</span></code></a>(gtab[,&nbsp;fit_method])</td>
<td>Class for the Diffusion Kurtosis Model</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSAFlow" title="dipy.workflows.reconst.ReconstCSAFlow"><code class="xref py py-obj docutils literal"><span class="pre">ReconstCSAFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSDFlow" title="dipy.workflows.reconst.ReconstCSDFlow"><code class="xref py py-obj docutils literal"><span class="pre">ReconstCSDFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow" title="dipy.workflows.reconst.ReconstDkiFlow"><code class="xref py py-obj docutils literal"><span class="pre">ReconstDkiFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow" title="dipy.workflows.reconst.ReconstDtiFlow"><code class="xref py py-obj docutils literal"><span class="pre">ReconstDtiFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstMAPMRIFlow" title="dipy.workflows.reconst.ReconstMAPMRIFlow"><code class="xref py py-obj docutils literal"><span class="pre">ReconstMAPMRIFlow</span></code></a>([output_strategy,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.TensorModel" title="dipy.workflows.reconst.TensorModel"><code class="xref py py-obj docutils literal"><span class="pre">TensorModel</span></code></a>(gtab[,&nbsp;fit_method,&nbsp;return_S0_hat])</td>
<td>Diffusion Tensor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow" title="dipy.workflows.reconst.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.auto_response" title="dipy.workflows.reconst.auto_response"><code class="xref py py-obj docutils literal"><span class="pre">auto_response</span></code></a>(gtab,&nbsp;data[,&nbsp;roi_center,&nbsp;...])</td>
<td>Automatic estimation of response function using FA.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.axial_diffusivity" title="dipy.workflows.reconst.axial_diffusivity"><code class="xref py py-obj docutils literal"><span class="pre">axial_diffusivity</span></code></a>(evals[,&nbsp;axis])</td>
<td>Axial Diffusivity (AD) of a diffusion tensor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.color_fa" title="dipy.workflows.reconst.color_fa"><code class="xref py py-obj docutils literal"><span class="pre">color_fa</span></code></a>(fa,&nbsp;evecs)</td>
<td>Color fractional anisotropy of diffusion tensor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.fractional_anisotropy" title="dipy.workflows.reconst.fractional_anisotropy"><code class="xref py py-obj docutils literal"><span class="pre">fractional_anisotropy</span></code></a>(evals[,&nbsp;axis])</td>
<td>Fractional anisotropy (FA) of a diffusion tensor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.geodesic_anisotropy" title="dipy.workflows.reconst.geodesic_anisotropy"><code class="xref py py-obj docutils literal"><span class="pre">geodesic_anisotropy</span></code></a>(evals[,&nbsp;axis])</td>
<td>Geodesic anisotropy (GA) of a diffusion tensor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.get_mode" title="dipy.workflows.reconst.get_mode"><code class="xref py py-obj docutils literal"><span class="pre">get_mode</span></code></a>(q_form)</td>
<td>Mode (MO) of a diffusion tensor [R507].</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.get_sphere" title="dipy.workflows.reconst.get_sphere"><code class="xref py py-obj docutils literal"><span class="pre">get_sphere</span></code></a>([name])</td>
<td>provide triangulated spheres</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.gradient_table" title="dipy.workflows.reconst.gradient_table"><code class="xref py py-obj docutils literal"><span class="pre">gradient_table</span></code></a>(bvals[,&nbsp;bvecs,&nbsp;big_delta,&nbsp;...])</td>
<td>A general function for creating diffusion MR gradients.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.literal_eval" title="dipy.workflows.reconst.literal_eval"><code class="xref py py-obj docutils literal"><span class="pre">literal_eval</span></code></a>(node_or_string)</td>
<td>Safely evaluate an expression node or a string containing a Python expression.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.lower_triangular" title="dipy.workflows.reconst.lower_triangular"><code class="xref py py-obj docutils literal"><span class="pre">lower_triangular</span></code></a>(tensor[,&nbsp;b0])</td>
<td>Returns the six lower triangular values of the tensor and a dummy variable</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.mean_diffusivity" title="dipy.workflows.reconst.mean_diffusivity"><code class="xref py py-obj docutils literal"><span class="pre">mean_diffusivity</span></code></a>(evals[,&nbsp;axis])</td>
<td>Mean Diffusivity (MD) of a diffusion tensor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.peaks_from_model" title="dipy.workflows.reconst.peaks_from_model"><code class="xref py py-obj docutils literal"><span class="pre">peaks_from_model</span></code></a>(model,&nbsp;data,&nbsp;sphere,&nbsp;...[,&nbsp;...])</td>
<td>Fit the model to data and computes peaks and metrics</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.peaks_to_niftis" title="dipy.workflows.reconst.peaks_to_niftis"><code class="xref py py-obj docutils literal"><span class="pre">peaks_to_niftis</span></code></a>(pam,&nbsp;fname_shm,&nbsp;fname_dirs,&nbsp;...)</td>
<td>Save SH, directions, indices and values of peaks to Nifti.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.radial_diffusivity" title="dipy.workflows.reconst.radial_diffusivity"><code class="xref py py-obj docutils literal"><span class="pre">radial_diffusivity</span></code></a>(evals[,&nbsp;axis])</td>
<td>Radial Diffusivity (RD) of a diffusion tensor.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.read_bvals_bvecs" title="dipy.workflows.reconst.read_bvals_bvecs"><code class="xref py py-obj docutils literal"><span class="pre">read_bvals_bvecs</span></code></a>(fbvals,&nbsp;fbvecs)</td>
<td>Read b-values and b-vectors from disk</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.save_peaks" title="dipy.workflows.reconst.save_peaks"><code class="xref py py-obj docutils literal"><span class="pre">save_peaks</span></code></a>(fname,&nbsp;pam[,&nbsp;affine,&nbsp;verbose])</td>
<td>Save all important attributes of object PeaksAndMetrics in a PAM5 file (HDF5).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.split_dki_param" title="dipy.workflows.reconst.split_dki_param"><code class="xref py py-obj docutils literal"><span class="pre">split_dki_param</span></code></a>(dki_params)</td>
<td>Extract the diffusion tensor eigenvalues, the diffusion tensor</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.segment">
<span id="module-workflows-segment"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.segment</span></code><a class="headerlink" href="#module-dipy.workflows.segment" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.MedianOtsuFlow" title="dipy.workflows.segment.MedianOtsuFlow"><code class="xref py py-obj docutils literal"><span class="pre">MedianOtsuFlow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow" title="dipy.workflows.segment.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.load_nifti" title="dipy.workflows.segment.load_nifti"><code class="xref py py-obj docutils literal"><span class="pre">load_nifti</span></code></a>(fname[,&nbsp;return_img,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.segment.median_otsu" title="dipy.workflows.segment.median_otsu"><code class="xref py py-obj docutils literal"><span class="pre">median_otsu</span></code></a>(input_volume[,&nbsp;median_radius,&nbsp;...])</td>
<td>Simple brain extraction tool method for images from DWI data.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.save_nifti" title="dipy.workflows.segment.save_nifti"><code class="xref py py-obj docutils literal"><span class="pre">save_nifti</span></code></a>(fname,&nbsp;data,&nbsp;affine[,&nbsp;hdr])</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.tracking">
<span id="module-workflows-tracking"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.tracking</span></code><a class="headerlink" href="#module-dipy.workflows.tracking" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.DetTrackPAMFlow" title="dipy.workflows.tracking.DetTrackPAMFlow"><code class="xref py py-obj docutils literal"><span class="pre">DetTrackPAMFlow</span></code></a>([output_strategy,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.DeterministicMaximumDirectionGetter" title="dipy.workflows.tracking.DeterministicMaximumDirectionGetter"><code class="xref py py-obj docutils literal"><span class="pre">DeterministicMaximumDirectionGetter</span></code></a></td>
<td>Return direction of a sphere with the highest probability mass function (pmf).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.GenericTrackFlow" title="dipy.workflows.tracking.GenericTrackFlow"><code class="xref py py-obj docutils literal"><span class="pre">GenericTrackFlow</span></code></a>([output_strategy,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.LocalTracking" title="dipy.workflows.tracking.LocalTracking"><code class="xref py py-obj docutils literal"><span class="pre">LocalTracking</span></code></a>(direction_getter,&nbsp;...[,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.ThresholdTissueClassifier" title="dipy.workflows.tracking.ThresholdTissueClassifier"><code class="xref py py-obj docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a></td>
<td># Declarations from tissue_classifier.pxd bellow</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-obj docutils literal"><span class="pre">Tractogram</span></code></a>([streamlines,&nbsp;...])</td>
<td>Container for streamlines and their data information.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow" title="dipy.workflows.tracking.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.load_nifti" title="dipy.workflows.tracking.load_nifti"><code class="xref py py-obj docutils literal"><span class="pre">load_nifti</span></code></a>(fname[,&nbsp;return_img,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.load_peaks" title="dipy.workflows.tracking.load_peaks"><code class="xref py py-obj docutils literal"><span class="pre">load_peaks</span></code></a>(fname[,&nbsp;verbose])</td>
<td>Load a PeaksAndMetrics HDF5 file (PAM5)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.save" title="dipy.workflows.tracking.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a>(tractogram,&nbsp;filename,&nbsp;**kwargs)</td>
<td>Saves a tractogram to a file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.workflows.workflow">
<span id="module-workflows-workflow"></span><h2>Module: <code class="xref py py-mod docutils literal"><span class="pre">workflows.workflow</span></code><a class="headerlink" href="#module-dipy.workflows.workflow" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-obj docutils literal"><span class="pre">Workflow</span></code></a>([output_strategy,&nbsp;mix_names,&nbsp;...])</td>
<td><p class="rubric">Methods</p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.workflow.io_iterator_" title="dipy.workflows.workflow.io_iterator_"><code class="xref py py-obj docutils literal"><span class="pre">io_iterator_</span></code></a>(frame,&nbsp;fnc[,&nbsp;output_strategy,&nbsp;...])</td>
<td>Creates an IOIterator using introspection.</td>
</tr>
</tbody>
</table>
<div class="section" id="resliceflow">
<h3><a class="reference internal" href="#dipy.workflows.align.ResliceFlow" title="dipy.workflows.align.ResliceFlow"><code class="xref py py-class docutils literal"><span class="pre">ResliceFlow</span></code></a><a class="headerlink" href="#resliceflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.align.ResliceFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.align.</code><code class="descname">ResliceFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.ResliceFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.align.ResliceFlow.get_short_name" title="dipy.workflows.align.ResliceFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.ResliceFlow.run" title="dipy.workflows.align.ResliceFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;new_vox_size[,&nbsp;order,&nbsp;...])</td>
<td>Reslice data with new voxel resolution defined by <code class="docutils literal"><span class="pre">new_vox_sz</span></code></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.align.ResliceFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.ResliceFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.align.ResliceFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.ResliceFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.align.ResliceFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>new_vox_size</em>, <em>order=1</em>, <em>mode='constant'</em>, <em>cval=0</em>, <em>num_processes=1</em>, <em>out_dir=''</em>, <em>out_resliced='resliced.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.ResliceFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Reslice data with new voxel resolution defined by <code class="docutils literal"><span class="pre">new_vox_sz</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>new_vox_size</strong> : variable float</p>
<blockquote>
<div><p>new voxel size</p>
</div></blockquote>
<p><strong>order</strong> : int, optional</p>
<blockquote>
<div><p>order of interpolation, from 0 to 5, for resampling/reslicing,
0 nearest interpolation, 1 trilinear etc.. if you don&#8217;t want any 
smoothing 0 is the option you need (default 1)</p>
</div></blockquote>
<p><strong>mode</strong> : string, optional</p>
<blockquote>
<div><p>Points outside the boundaries of the input are filled according
to the given mode &#8216;constant&#8217;, &#8216;nearest&#8217;, &#8216;reflect&#8217; or &#8216;wrap&#8217;
(default &#8216;constant&#8217;)</p>
</div></blockquote>
<p><strong>cval</strong> : float, optional</p>
<blockquote>
<div><p>Value used for points outside the boundaries of the input if
mode=&#8217;constant&#8217; (default 0)</p>
</div></blockquote>
<p><strong>num_processes</strong> : int, optional</p>
<blockquote>
<div><p>Split the calculation to a pool of children processes. This only
applies to 4D <cite>data</cite> arrays. If a positive integer then it defines
the size of the multiprocessing pool that will be used. If 0, then
the size of the pool will equal the number of cores available.
(default 1)</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_resliced</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the resliced dataset to be saved
(default &#8216;resliced.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="workflow">
<h3><a class="reference internal" href="#dipy.workflows.align.Workflow" title="dipy.workflows.align.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.align.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.align.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.Workflow.get_io_iterator" title="dipy.workflows.align.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.align.Workflow.get_short_name" title="dipy.workflows.align.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.Workflow.get_sub_runs" title="dipy.workflows.align.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.align.Workflow.manage_output_overwrite" title="dipy.workflows.align.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.align.Workflow.run" title="dipy.workflows.align.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.align.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.align.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.align.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.align.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.align.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.align.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="load-nifti">
<h3>load_nifti<a class="headerlink" href="#load-nifti" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.align.load_nifti">
<code class="descclassname">dipy.workflows.align.</code><code class="descname">load_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>return_img=False</em>, <em>return_voxsize=False</em>, <em>return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="reslice">
<h3>reslice<a class="headerlink" href="#reslice" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.align.reslice">
<code class="descclassname">dipy.workflows.align.</code><code class="descname">reslice</code><span class="sig-paren">(</span><em>data</em>, <em>affine</em>, <em>zooms</em>, <em>new_zooms</em>, <em>order=1</em>, <em>mode='constant'</em>, <em>cval=0</em>, <em>num_processes=1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.reslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Reslice data with new voxel resolution defined by <code class="docutils literal"><span class="pre">new_zooms</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : array, shape (I,J,K) or (I,J,K,N)</p>
<blockquote>
<div><p>3d volume or 4d volume with datasets</p>
</div></blockquote>
<p><strong>affine</strong> : array, shape (4,4)</p>
<blockquote>
<div><p>mapping from voxel coordinates to world coordinates</p>
</div></blockquote>
<p><strong>zooms</strong> : tuple, shape (3,)</p>
<blockquote>
<div><p>voxel size for (i,j,k) dimensions</p>
</div></blockquote>
<p><strong>new_zooms</strong> : tuple, shape (3,)</p>
<blockquote>
<div><p>new voxel size for (i,j,k) after resampling</p>
</div></blockquote>
<p><strong>order</strong> : int, from 0 to 5</p>
<blockquote>
<div><p>order of interpolation for resampling/reslicing,
0 nearest interpolation, 1 trilinear etc..
if you don&#8217;t want any smoothing 0 is the option you need.</p>
</div></blockquote>
<p><strong>mode</strong> : string (&#8216;constant&#8217;, &#8216;nearest&#8217;, &#8216;reflect&#8217; or &#8216;wrap&#8217;)</p>
<blockquote>
<div><p>Points outside the boundaries of the input are filled according
to the given mode.</p>
</div></blockquote>
<p><strong>cval</strong> : float</p>
<blockquote>
<div><p>Value used for points outside the boundaries of the input if
mode=&#8217;constant&#8217;.</p>
</div></blockquote>
<p><strong>num_processes</strong> : int</p>
<blockquote>
<div><p>Split the calculation to a pool of children processes. This only
applies to 4D <cite>data</cite> arrays. If a positive integer then it defines
the size of the multiprocessing pool that will be used. If 0, then
the size of the pool will equal the number of cores available.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data2</strong> : array, shape (I,J,K) or (I,J,K,N)</p>
<blockquote>
<div><p>datasets resampled into isotropic voxel size</p>
</div></blockquote>
<p><strong>affine2</strong> : array, shape (4,4)</p>
<blockquote class="last">
<div><p>new affine for the resampled image</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">nibabel</span> <span class="k">as</span> <span class="nn">nib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.align.reslice</span> <span class="k">import</span> <span class="n">reslice</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.data</span> <span class="k">import</span> <span class="n">get_data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fimg</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;aniso_vox&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">nib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fimg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">58</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">affine</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">affine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zooms</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">get_zooms</span><span class="p">()[:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zooms</span>
<span class="go">(4.0, 4.0, 5.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_zooms</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3.</span><span class="p">,</span><span class="mf">3.</span><span class="p">,</span><span class="mf">3.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_zooms</span>
<span class="go">(3.0, 3.0, 3.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="p">,</span> <span class="n">affine2</span> <span class="o">=</span> <span class="n">reslice</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">affine</span><span class="p">,</span> <span class="n">zooms</span><span class="p">,</span> <span class="n">new_zooms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">77</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="save-nifti">
<h3>save_nifti<a class="headerlink" href="#save-nifti" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.align.save_nifti">
<code class="descclassname">dipy.workflows.align.</code><code class="descname">save_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>data</em>, <em>affine</em>, <em>hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.align.save_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="introspectiveargumentparser">
<h3><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser" title="dipy.workflows.base.IntrospectiveArgumentParser"><code class="xref py py-class docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a><a class="headerlink" href="#introspectiveargumentparser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser">
<em class="property">class </em><code class="descclassname">dipy.workflows.base.</code><code class="descname">IntrospectiveArgumentParser</code><span class="sig-paren">(</span><em>prog=None</em>, <em>usage=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>parents=[]</em>, <em>formatter_class=&lt;class 'dipy.fixes.argparse.RawTextHelpFormatter'&gt;</em>, <em>prefix_chars='-'</em>, <em>fromfile_prefix_chars=None</em>, <em>argument_default=None</em>, <em>conflict_handler='resolve'</em>, <em>add_help=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dipy.fixes.argparse.ArgumentParser</span></code></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_argument</span></code>(dest,&nbsp;...[,&nbsp;name,&nbsp;name])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">add_argument_group</span></code>(*args,&nbsp;**kwargs)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_description" title="dipy.workflows.base.IntrospectiveArgumentParser.add_description"><code class="xref py py-obj docutils literal"><span class="pre">add_description</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_epilogue" title="dipy.workflows.base.IntrospectiveArgumentParser.add_epilogue"><code class="xref py py-obj docutils literal"><span class="pre">add_epilogue</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_mutually_exclusive_group</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_sub_flow_args" title="dipy.workflows.base.IntrospectiveArgumentParser.add_sub_flow_args"><code class="xref py py-obj docutils literal"><span class="pre">add_sub_flow_args</span></code></a>(sub_flows)</td>
<td>Take an array of workflow objects and use introspection to extract the parameters, types and docstrings of their run method.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_subparsers</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_workflow" title="dipy.workflows.base.IntrospectiveArgumentParser.add_workflow"><code class="xref py py-obj docutils literal"><span class="pre">add_workflow</span></code></a>(workflow)</td>
<td>Take a workflow object and use introspection to extract the parameters, types and docstrings of its run method.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">error</span></code>(message:&nbsp;string)</td>
<td>Prints a usage message incorporating the message to stderr and exits.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">exit</span></code>([status,&nbsp;message])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">format_help</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">format_usage</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">format_version</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.get_flow_args" title="dipy.workflows.base.IntrospectiveArgumentParser.get_flow_args"><code class="xref py py-obj docutils literal"><span class="pre">get_flow_args</span></code></a>([args,&nbsp;namespace])</td>
<td>Returns the parsed arguments as a dictionary that will be used as a workflow&#8217;s run method arguments.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.get_outputs" title="dipy.workflows.base.IntrospectiveArgumentParser.get_outputs"><code class="xref py py-obj docutils literal"><span class="pre">get_outputs</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">parse_args</span></code>([args,&nbsp;namespace])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">parse_known_args</span></code>([args,&nbsp;namespace])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">print_help</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">print_usage</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">print_version</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">register</span></code>(registry_name,&nbsp;value,&nbsp;object)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">set_defaults</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.show_argument" title="dipy.workflows.base.IntrospectiveArgumentParser.show_argument"><code class="xref py py-obj docutils literal"><span class="pre">show_argument</span></code></a>(dest)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.base.IntrospectiveArgumentParser.update_argument" title="dipy.workflows.base.IntrospectiveArgumentParser.update_argument"><code class="xref py py-obj docutils literal"><span class="pre">update_argument</span></code></a>(*args,&nbsp;**kargs)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>prog=None</em>, <em>usage=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>parents=[]</em>, <em>formatter_class=&lt;class 'dipy.fixes.argparse.RawTextHelpFormatter'&gt;</em>, <em>prefix_chars='-'</em>, <em>fromfile_prefix_chars=None</em>, <em>argument_default=None</em>, <em>conflict_handler='resolve'</em>, <em>add_help=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Augmenting the argument parser to allow automatic creation of
arguments from workflows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>prog</strong> : None</p>
<blockquote>
<div><p>The name of the program (default: sys.argv[0])</p>
</div></blockquote>
<p><strong>usage</strong> : None</p>
<blockquote>
<div><p>A usage message (default: auto-generated from arguments)</p>
</div></blockquote>
<p><strong>description</strong> : str</p>
<blockquote>
<div><p>A description of what the program does</p>
</div></blockquote>
<p><strong>epilog</strong> : str</p>
<blockquote>
<div><p>Text following the argument descriptions</p>
</div></blockquote>
<p><strong>version</strong> : None</p>
<blockquote>
<div><p>Add a -v/&#8211;version option with the given version string</p>
</div></blockquote>
<p><strong>parents</strong> : list</p>
<blockquote>
<div><p>Parsers whose arguments should be copied into this one</p>
</div></blockquote>
<p><strong>formatter_class</strong> : obj</p>
<blockquote>
<div><p>HelpFormatter class for printing help messages</p>
</div></blockquote>
<p><strong>prefix_chars</strong> : str</p>
<blockquote>
<div><p>Characters that prefix optional arguments</p>
</div></blockquote>
<p><strong>fromfile_prefix_chars</strong> : None</p>
<blockquote>
<div><p>Characters that prefix files containing additional arguments</p>
</div></blockquote>
<p><strong>argument_default</strong> : None</p>
<blockquote>
<div><p>The default value for all arguments</p>
</div></blockquote>
<p><strong>conflict_handler</strong> : str</p>
<blockquote>
<div><p>String indicating how to handle conflicts</p>
</div></blockquote>
<p><strong>add_help</strong> : bool</p>
<blockquote class="last">
<div><p>Add a -h/-help option</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.add_description">
<code class="descname">add_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.add_epilogue">
<code class="descname">add_epilogue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_epilogue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.add_sub_flow_args">
<code class="descname">add_sub_flow_args</code><span class="sig-paren">(</span><em>sub_flows</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_sub_flow_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Take an array of workflow objects and use introspection to extract
the parameters, types and docstrings of their run method. Only the
optional input parameters are extracted for these as they are treated as
sub workflows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sub_flows</strong> : array of dipy.workflows.workflow.Workflow</p>
<blockquote>
<div><p>Workflows to inspect.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sub_flow_optionals</strong> : dictionary of all sub workflow optional parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.add_workflow">
<code class="descname">add_workflow</code><span class="sig-paren">(</span><em>workflow</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.add_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a workflow object and use introspection to extract the parameters,
types and docstrings of its run method. Then add these parameters
to the current arparser&#8217;s own params to parse. If the workflow is of
type combined_workflow, the optional input parameters of its
sub workflows will also be added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : dipy.workflows.workflow.Workflow</p>
<blockquote>
<div><p>Workflow from which to infer parameters.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sub_flow_optionals</strong> : dictionary of all sub workflow optional parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.get_flow_args">
<code class="descname">get_flow_args</code><span class="sig-paren">(</span><em>args=None</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.get_flow_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the parsed arguments as a dictionary that will be used
as a workflow&#8217;s run method arguments.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.get_outputs">
<code class="descname">get_outputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.get_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.show_argument">
<code class="descname">show_argument</code><span class="sig-paren">(</span><em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.show_argument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.base.IntrospectiveArgumentParser.update_argument">
<code class="descname">update_argument</code><span class="sig-paren">(</span><em>*args</em>, <em>**kargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.IntrospectiveArgumentParser.update_argument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="numpydocstring">
<h3><a class="reference internal" href="#dipy.workflows.base.NumpyDocString" title="dipy.workflows.base.NumpyDocString"><code class="xref py py-class docutils literal"><span class="pre">NumpyDocString</span></code></a><a class="headerlink" href="#numpydocstring" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.base.NumpyDocString">
<em class="property">class </em><code class="descclassname">dipy.workflows.base.</code><code class="descname">NumpyDocString</code><span class="sig-paren">(</span><em>docstring</em>, <em>config={}</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.NumpyDocString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="dipy.workflows.base.NumpyDocString.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>docstring</em>, <em>config={}</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.NumpyDocString.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="get-args-default">
<h3>get_args_default<a class="headerlink" href="#get-args-default" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.base.get_args_default">
<code class="descclassname">dipy.workflows.base.</code><code class="descname">get_args_default</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.base.get_args_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="combinedworkflow">
<h3><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow" title="dipy.workflows.combined_workflow.CombinedWorkflow"><code class="xref py py-class docutils literal"><span class="pre">CombinedWorkflow</span></code></a><a class="headerlink" href="#combinedworkflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.combined_workflow.</code><code class="descname">CombinedWorkflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow.get_optionals" title="dipy.workflows.combined_workflow.CombinedWorkflow.get_optionals"><code class="xref py py-obj docutils literal"><span class="pre">get_optionals</span></code></a>(flow,&nbsp;**kwargs)</td>
<td>Returns the sub flow&#8217;s optional arguments merged with those passed as params in kwargs.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow.get_sub_runs" title="dipy.workflows.combined_workflow.CombinedWorkflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>Returns a list of tuples (sub flow name, sub flow run method, sub flow short name) to be used in the sub flow parameters extraction.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">run</span></code>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow.run_sub_flow" title="dipy.workflows.combined_workflow.CombinedWorkflow.run_sub_flow"><code class="xref py py-obj docutils literal"><span class="pre">run_sub_flow</span></code></a>(flow,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Runs the sub flow with the optional parameters passed via the command line.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.CombinedWorkflow.set_sub_flows_optionals" title="dipy.workflows.combined_workflow.CombinedWorkflow.set_sub_flows_optionals"><code class="xref py py-obj docutils literal"><span class="pre">set_sub_flows_optionals</span></code></a>(opts)</td>
<td>Sets the self._optionals variable with all sub flow arguments that were passed in the commandline.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow that combines multiple workflows.
The workflow combined together are referred as sub flows in this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow.get_optionals">
<code class="descname">get_optionals</code><span class="sig-paren">(</span><em>flow</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow.get_optionals" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sub flow&#8217;s optional arguments merged with those passed
as params in kwargs.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of tuples
(sub flow name, sub flow run method, sub flow short name)
to be used in the sub flow parameters extraction.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow.run_sub_flow">
<code class="descname">run_sub_flow</code><span class="sig-paren">(</span><em>flow</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow.run_sub_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the sub flow with the optional parameters passed via the
command line. This is a convenience method to make sub flow running
more intuitive on the concrete CombinedWorkflow side.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.CombinedWorkflow.set_sub_flows_optionals">
<code class="descname">set_sub_flows_optionals</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.CombinedWorkflow.set_sub_flows_optionals" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the self._optionals variable with all sub flow arguments
that were passed in the commandline.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id4">
<h3><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow" title="dipy.workflows.combined_workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.combined_workflow.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.combined_workflow.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow.get_io_iterator" title="dipy.workflows.combined_workflow.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow.get_short_name" title="dipy.workflows.combined_workflow.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow.get_sub_runs" title="dipy.workflows.combined_workflow.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow.manage_output_overwrite" title="dipy.workflows.combined_workflow.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.combined_workflow.Workflow.run" title="dipy.workflows.combined_workflow.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.combined_workflow.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.combined_workflow.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.combined_workflow.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="iteritems">
<h3>iteritems<a class="headerlink" href="#iteritems" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.combined_workflow.iteritems">
<code class="descclassname">dipy.workflows.combined_workflow.</code><code class="descname">iteritems</code><span class="sig-paren">(</span><em>d</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.combined_workflow.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the (key, value) pairs of a dictionary.</p>
</dd></dl>

</div>
<div class="section" id="nlmeansflow">
<h3><a class="reference internal" href="#dipy.workflows.denoise.NLMeansFlow" title="dipy.workflows.denoise.NLMeansFlow"><code class="xref py py-class docutils literal"><span class="pre">NLMeansFlow</span></code></a><a class="headerlink" href="#nlmeansflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.denoise.NLMeansFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.denoise.</code><code class="descname">NLMeansFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.NLMeansFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.denoise.NLMeansFlow.get_short_name" title="dipy.workflows.denoise.NLMeansFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.NLMeansFlow.run" title="dipy.workflows.denoise.NLMeansFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files[,&nbsp;sigma,&nbsp;out_dir,&nbsp;out_denoised])</td>
<td>Workflow wrapping the nlmeans denoising method.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.denoise.NLMeansFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.NLMeansFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.denoise.NLMeansFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.NLMeansFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.denoise.NLMeansFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>sigma=0</em>, <em>out_dir=''</em>, <em>out_denoised='dwi_nlmeans.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.NLMeansFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow wrapping the nlmeans denoising method.</p>
<p>It applies nlmeans denoise on each file found by &#8216;globing&#8217;
<code class="docutils literal"><span class="pre">input_files</span></code> and saves the results in a directory specified by
<code class="docutils literal"><span class="pre">out_dir</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>sigma</strong> : float, optional</p>
<blockquote>
<div><p>Sigma parameter to pass to the nlmeans algorithm
(default: auto estimation).</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_denoised</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the resuting denoised volume (default: dwi_nlmeans.nii.gz)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id5">
<h3><a class="reference internal" href="#dipy.workflows.denoise.Workflow" title="dipy.workflows.denoise.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.denoise.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.denoise.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow.get_io_iterator" title="dipy.workflows.denoise.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow.get_short_name" title="dipy.workflows.denoise.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow.get_sub_runs" title="dipy.workflows.denoise.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow.manage_output_overwrite" title="dipy.workflows.denoise.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.denoise.Workflow.run" title="dipy.workflows.denoise.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.denoise.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.denoise.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.denoise.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.denoise.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.denoise.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.denoise.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="estimate-sigma">
<h3>estimate_sigma<a class="headerlink" href="#estimate-sigma" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.denoise.estimate_sigma">
<code class="descclassname">dipy.workflows.denoise.</code><code class="descname">estimate_sigma</code><span class="sig-paren">(</span><em>arr</em>, <em>disable_background_masking=False</em>, <em>N=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.estimate_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation estimation from local patches</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>arr</strong> : 3D or 4D ndarray</p>
<blockquote>
<div><p>The array to be estimated</p>
</div></blockquote>
<p><strong>disable_background_masking</strong> : bool, default False</p>
<blockquote>
<div><p>If True, uses all voxels for the estimation, otherwise, only non-zeros
voxels are used. Useful if the background is masked by the scanner.</p>
</div></blockquote>
<p><strong>N</strong> : int, default 0</p>
<blockquote>
<div><p>Number of coils of the receiver array. Use N = 1 in case of a SENSE
reconstruction (Philips scanners) or the number of coils for a GRAPPA
reconstruction (Siemens and GE). Use 0 to disable the correction factor,
as for example if the noise is Gaussian distributed. See [1] for more
information.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sigma</strong> : ndarray</p>
<blockquote class="last">
<div><p>standard deviation of the noise, one estimation per volume.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="nlmeans">
<h3>nlmeans<a class="headerlink" href="#nlmeans" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.denoise.nlmeans">
<code class="descclassname">dipy.workflows.denoise.</code><code class="descname">nlmeans</code><span class="sig-paren">(</span><em>arr</em>, <em>sigma</em>, <em>mask=None</em>, <em>patch_radius=1</em>, <em>block_radius=5</em>, <em>rician=True</em>, <em>num_threads=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.denoise.nlmeans" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-local means for denoising 3D and 4D images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>arr</strong> : 3D or 4D ndarray</p>
<blockquote>
<div><p>The array to be denoised</p>
</div></blockquote>
<p><strong>mask</strong> : 3D ndarray</p>
<p><strong>sigma</strong> : float or 3D array</p>
<blockquote>
<div><p>standard deviation of the noise estimated from the data</p>
</div></blockquote>
<p><strong>patch_radius</strong> : int</p>
<blockquote>
<div><p>patch size is <code class="docutils literal"><span class="pre">2</span> <span class="pre">x</span> <span class="pre">patch_radius</span> <span class="pre">+</span> <span class="pre">1</span></code>. Default is 1.</p>
</div></blockquote>
<p><strong>block_radius</strong> : int</p>
<blockquote>
<div><p>block size is <code class="docutils literal"><span class="pre">2</span> <span class="pre">x</span> <span class="pre">block_radius</span> <span class="pre">+</span> <span class="pre">1</span></code>. Default is 5.</p>
</div></blockquote>
<p><strong>rician</strong> : boolean</p>
<blockquote>
<div><p>If True the noise is estimated as Rician, otherwise Gaussian noise
is assumed.</p>
</div></blockquote>
<p><strong>num_threads</strong> : int</p>
<blockquote>
<div><p>Number of threads. If None (default) then all available threads
will be used (all CPU cores).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>denoised_arr</strong> : ndarray</p>
<blockquote class="last">
<div><p>the denoised <code class="docutils literal"><span class="pre">arr</span></code> which has the same shape as <code class="docutils literal"><span class="pre">arr</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="descoteaux08" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[Descoteaux08]</a></td><td>Descoteaux, Maxim and Wiest-Daessle`, Nicolas and Prima,
Sylvain and Barillot, Christian and Deriche, Rachid
Impact of Rician Adapted Non-Local Means Filtering on
HARDI, MICCAI 2008</td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id7">
<h3><a class="reference internal" href="#dipy.workflows.docstring_parser.NumpyDocString" title="dipy.workflows.docstring_parser.NumpyDocString"><code class="xref py py-class docutils literal"><span class="pre">NumpyDocString</span></code></a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.docstring_parser.NumpyDocString">
<em class="property">class </em><code class="descclassname">dipy.workflows.docstring_parser.</code><code class="descname">NumpyDocString</code><span class="sig-paren">(</span><em>docstring</em>, <em>config={}</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.NumpyDocString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="dipy.workflows.docstring_parser.NumpyDocString.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>docstring</em>, <em>config={}</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.NumpyDocString.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="reader">
<h3><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader" title="dipy.workflows.docstring_parser.Reader"><code class="xref py py-class docutils literal"><span class="pre">Reader</span></code></a><a class="headerlink" href="#reader" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.docstring_parser.Reader">
<em class="property">class </em><code class="descclassname">dipy.workflows.docstring_parser.</code><code class="descname">Reader</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A line-based string reader.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.eof" title="dipy.workflows.docstring_parser.Reader.eof"><code class="xref py py-obj docutils literal"><span class="pre">eof</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.is_empty" title="dipy.workflows.docstring_parser.Reader.is_empty"><code class="xref py py-obj docutils literal"><span class="pre">is_empty</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.peek" title="dipy.workflows.docstring_parser.Reader.peek"><code class="xref py py-obj docutils literal"><span class="pre">peek</span></code></a>([n])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.read" title="dipy.workflows.docstring_parser.Reader.read"><code class="xref py py-obj docutils literal"><span class="pre">read</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.read_to_condition" title="dipy.workflows.docstring_parser.Reader.read_to_condition"><code class="xref py py-obj docutils literal"><span class="pre">read_to_condition</span></code></a>(condition_func)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.read_to_next_empty_line" title="dipy.workflows.docstring_parser.Reader.read_to_next_empty_line"><code class="xref py py-obj docutils literal"><span class="pre">read_to_next_empty_line</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.read_to_next_unindented_line" title="dipy.workflows.docstring_parser.Reader.read_to_next_unindented_line"><code class="xref py py-obj docutils literal"><span class="pre">read_to_next_unindented_line</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.reset" title="dipy.workflows.docstring_parser.Reader.reset"><code class="xref py py-obj docutils literal"><span class="pre">reset</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.docstring_parser.Reader.seek_next_non_empty_line" title="dipy.workflows.docstring_parser.Reader.seek_next_non_empty_line"><code class="xref py py-obj docutils literal"><span class="pre">seek_next_non_empty_line</span></code></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : str</p>
<blockquote>
<div><p>String with lines separated by &#8216;</p>
</div></blockquote>
<p class="last"><strong>&#8216;.</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.eof">
<code class="descname">eof</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.eof" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.is_empty">
<code class="descname">is_empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.peek">
<code class="descname">peek</code><span class="sig-paren">(</span><em>n=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.peek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.read">
<code class="descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.read_to_condition">
<code class="descname">read_to_condition</code><span class="sig-paren">(</span><em>condition_func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.read_to_condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.read_to_next_empty_line">
<code class="descname">read_to_next_empty_line</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.read_to_next_empty_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.read_to_next_unindented_line">
<code class="descname">read_to_next_unindented_line</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.read_to_next_unindented_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.docstring_parser.Reader.seek_next_non_empty_line">
<code class="descname">seek_next_non_empty_line</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.Reader.seek_next_non_empty_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="dedent-lines">
<h3>dedent_lines<a class="headerlink" href="#dedent-lines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.docstring_parser.dedent_lines">
<code class="descclassname">dipy.workflows.docstring_parser.</code><code class="descname">dedent_lines</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.dedent_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Deindent a list of lines maximally</p>
</dd></dl>

</div>
<div class="section" id="warn">
<h3>warn<a class="headerlink" href="#warn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.docstring_parser.warn">
<code class="descclassname">dipy.workflows.docstring_parser.</code><code class="descname">warn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.docstring_parser.warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>
</dd></dl>

</div>
<div class="section" id="id8">
<h3><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser"><code class="xref py py-class docutils literal"><span class="pre">IntrospectiveArgumentParser</span></code></a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser">
<em class="property">class </em><code class="descclassname">dipy.workflows.flow_runner.</code><code class="descname">IntrospectiveArgumentParser</code><span class="sig-paren">(</span><em>prog=None</em>, <em>usage=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>parents=[]</em>, <em>formatter_class=&lt;class 'dipy.fixes.argparse.RawTextHelpFormatter'&gt;</em>, <em>prefix_chars='-'</em>, <em>fromfile_prefix_chars=None</em>, <em>argument_default=None</em>, <em>conflict_handler='resolve'</em>, <em>add_help=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dipy.fixes.argparse.ArgumentParser</span></code></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_argument</span></code>(dest,&nbsp;...[,&nbsp;name,&nbsp;name])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">add_argument_group</span></code>(*args,&nbsp;**kwargs)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_description" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_description"><code class="xref py py-obj docutils literal"><span class="pre">add_description</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_epilogue" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_epilogue"><code class="xref py py-obj docutils literal"><span class="pre">add_epilogue</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_mutually_exclusive_group</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_sub_flow_args" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_sub_flow_args"><code class="xref py py-obj docutils literal"><span class="pre">add_sub_flow_args</span></code></a>(sub_flows)</td>
<td>Take an array of workflow objects and use introspection to extract the parameters, types and docstrings of their run method.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">add_subparsers</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_workflow" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_workflow"><code class="xref py py-obj docutils literal"><span class="pre">add_workflow</span></code></a>(workflow)</td>
<td>Take a workflow object and use introspection to extract the parameters, types and docstrings of its run method.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">error</span></code>(message:&nbsp;string)</td>
<td>Prints a usage message incorporating the message to stderr and exits.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">exit</span></code>([status,&nbsp;message])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">format_help</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">format_usage</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">format_version</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_flow_args" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_flow_args"><code class="xref py py-obj docutils literal"><span class="pre">get_flow_args</span></code></a>([args,&nbsp;namespace])</td>
<td>Returns the parsed arguments as a dictionary that will be used as a workflow&#8217;s run method arguments.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_outputs" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_outputs"><code class="xref py py-obj docutils literal"><span class="pre">get_outputs</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">parse_args</span></code>([args,&nbsp;namespace])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">parse_known_args</span></code>([args,&nbsp;namespace])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">print_help</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">print_usage</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">print_version</span></code>([file])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">register</span></code>(registry_name,&nbsp;value,&nbsp;object)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">set_defaults</span></code>(**kwargs)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.show_argument" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.show_argument"><code class="xref py py-obj docutils literal"><span class="pre">show_argument</span></code></a>(dest)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.update_argument" title="dipy.workflows.flow_runner.IntrospectiveArgumentParser.update_argument"><code class="xref py py-obj docutils literal"><span class="pre">update_argument</span></code></a>(*args,&nbsp;**kargs)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>prog=None</em>, <em>usage=None</em>, <em>description=None</em>, <em>epilog=None</em>, <em>version=None</em>, <em>parents=[]</em>, <em>formatter_class=&lt;class 'dipy.fixes.argparse.RawTextHelpFormatter'&gt;</em>, <em>prefix_chars='-'</em>, <em>fromfile_prefix_chars=None</em>, <em>argument_default=None</em>, <em>conflict_handler='resolve'</em>, <em>add_help=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Augmenting the argument parser to allow automatic creation of
arguments from workflows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>prog</strong> : None</p>
<blockquote>
<div><p>The name of the program (default: sys.argv[0])</p>
</div></blockquote>
<p><strong>usage</strong> : None</p>
<blockquote>
<div><p>A usage message (default: auto-generated from arguments)</p>
</div></blockquote>
<p><strong>description</strong> : str</p>
<blockquote>
<div><p>A description of what the program does</p>
</div></blockquote>
<p><strong>epilog</strong> : str</p>
<blockquote>
<div><p>Text following the argument descriptions</p>
</div></blockquote>
<p><strong>version</strong> : None</p>
<blockquote>
<div><p>Add a -v/&#8211;version option with the given version string</p>
</div></blockquote>
<p><strong>parents</strong> : list</p>
<blockquote>
<div><p>Parsers whose arguments should be copied into this one</p>
</div></blockquote>
<p><strong>formatter_class</strong> : obj</p>
<blockquote>
<div><p>HelpFormatter class for printing help messages</p>
</div></blockquote>
<p><strong>prefix_chars</strong> : str</p>
<blockquote>
<div><p>Characters that prefix optional arguments</p>
</div></blockquote>
<p><strong>fromfile_prefix_chars</strong> : None</p>
<blockquote>
<div><p>Characters that prefix files containing additional arguments</p>
</div></blockquote>
<p><strong>argument_default</strong> : None</p>
<blockquote>
<div><p>The default value for all arguments</p>
</div></blockquote>
<p><strong>conflict_handler</strong> : str</p>
<blockquote>
<div><p>String indicating how to handle conflicts</p>
</div></blockquote>
<p><strong>add_help</strong> : bool</p>
<blockquote class="last">
<div><p>Add a -h/-help option</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_description">
<code class="descname">add_description</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_epilogue">
<code class="descname">add_epilogue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_epilogue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_sub_flow_args">
<code class="descname">add_sub_flow_args</code><span class="sig-paren">(</span><em>sub_flows</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_sub_flow_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Take an array of workflow objects and use introspection to extract
the parameters, types and docstrings of their run method. Only the
optional input parameters are extracted for these as they are treated as
sub workflows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sub_flows</strong> : array of dipy.workflows.workflow.Workflow</p>
<blockquote>
<div><p>Workflows to inspect.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sub_flow_optionals</strong> : dictionary of all sub workflow optional parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_workflow">
<code class="descname">add_workflow</code><span class="sig-paren">(</span><em>workflow</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.add_workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a workflow object and use introspection to extract the parameters,
types and docstrings of its run method. Then add these parameters
to the current arparser&#8217;s own params to parse. If the workflow is of
type combined_workflow, the optional input parameters of its
sub workflows will also be added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>workflow</strong> : dipy.workflows.workflow.Workflow</p>
<blockquote>
<div><p>Workflow from which to infer parameters.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sub_flow_optionals</strong> : dictionary of all sub workflow optional parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_flow_args">
<code class="descname">get_flow_args</code><span class="sig-paren">(</span><em>args=None</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_flow_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the parsed arguments as a dictionary that will be used
as a workflow&#8217;s run method arguments.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_outputs">
<code class="descname">get_outputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.get_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.show_argument">
<code class="descname">show_argument</code><span class="sig-paren">(</span><em>dest</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.show_argument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.flow_runner.IntrospectiveArgumentParser.update_argument">
<code class="descname">update_argument</code><span class="sig-paren">(</span><em>*args</em>, <em>**kargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.IntrospectiveArgumentParser.update_argument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="get-level">
<h3>get_level<a class="headerlink" href="#get-level" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.flow_runner.get_level">
<code class="descclassname">dipy.workflows.flow_runner.</code><code class="descname">get_level</code><span class="sig-paren">(</span><em>lvl</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.get_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms the loggin level passed on the commandline into a proper
logging level name.</p>
</dd></dl>

</div>
<div class="section" id="id9">
<h3>iteritems<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.flow_runner.iteritems">
<code class="descclassname">dipy.workflows.flow_runner.</code><code class="descname">iteritems</code><span class="sig-paren">(</span><em>d</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator over the (key, value) pairs of a dictionary.</p>
</dd></dl>

</div>
<div class="section" id="run-flow">
<h3>run_flow<a class="headerlink" href="#run-flow" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.flow_runner.run_flow">
<code class="descclassname">dipy.workflows.flow_runner.</code><code class="descname">run_flow</code><span class="sig-paren">(</span><em>flow</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.flow_runner.run_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the process of building an argparser that reflects the workflow
that we want to run along with some generic parameters like logging,
force and output strategies. The resulting parameters are then fed to
the workflow&#8217;s run method.</p>
</dd></dl>

</div>
<div class="section" id="ioinfoflow">
<h3><a class="reference internal" href="#dipy.workflows.io.IoInfoFlow" title="dipy.workflows.io.IoInfoFlow"><code class="xref py py-class docutils literal"><span class="pre">IoInfoFlow</span></code></a><a class="headerlink" href="#ioinfoflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.io.IoInfoFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.io.</code><code class="descname">IoInfoFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.IoInfoFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.io.IoInfoFlow.get_short_name" title="dipy.workflows.io.IoInfoFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.IoInfoFlow.run" title="dipy.workflows.io.IoInfoFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files[,&nbsp;b0_threshold,&nbsp;bvecs_tol,&nbsp;...])</td>
<td>Provides useful information about different files used in medical imaging.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.io.IoInfoFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.IoInfoFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.io.IoInfoFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.IoInfoFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.io.IoInfoFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>b0_threshold=50</em>, <em>bvecs_tol=0.01</em>, <em>bshell_thr=100</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.IoInfoFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides useful information about different files used in
medical imaging. Any number of input files can be provided. The
program identifies the type of file by its extension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : variable string</p>
<blockquote>
<div><p>Any number of Nifti1, bvals or bvecs files.</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>(default 50)</p>
</div></blockquote>
<p><strong>bvecs_tol</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to check that norm(bvec) = 1 +/- bvecs_tol
b-vectors are unit vectors (default 0.01)</p>
</div></blockquote>
<p><strong>bshell_thr</strong> : float, optional</p>
<blockquote class="last">
<div><p>Threshold for distinguishing b-values in different shells
(default 100)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id10">
<h3><a class="reference internal" href="#dipy.workflows.io.Workflow" title="dipy.workflows.io.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.io.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.io.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.Workflow.get_io_iterator" title="dipy.workflows.io.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.io.Workflow.get_short_name" title="dipy.workflows.io.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.Workflow.get_sub_runs" title="dipy.workflows.io.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.io.Workflow.manage_output_overwrite" title="dipy.workflows.io.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.io.Workflow.run" title="dipy.workflows.io.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.io.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.io.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.io.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.io.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.io.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.io.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id11">
<h3>load_nifti<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.io.load_nifti">
<code class="descclassname">dipy.workflows.io.</code><code class="descname">load_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>return_img=False</em>, <em>return_voxsize=False</em>, <em>return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.io.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="maskflow">
<h3><a class="reference internal" href="#dipy.workflows.mask.MaskFlow" title="dipy.workflows.mask.MaskFlow"><code class="xref py py-class docutils literal"><span class="pre">MaskFlow</span></code></a><a class="headerlink" href="#maskflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.mask.MaskFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.mask.</code><code class="descname">MaskFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.MaskFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.mask.MaskFlow.get_short_name" title="dipy.workflows.mask.MaskFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.MaskFlow.run" title="dipy.workflows.mask.MaskFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;lb[,&nbsp;ub,&nbsp;out_dir,&nbsp;out_mask])</td>
<td>Workflow for creating a binary mask</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.mask.MaskFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.MaskFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.mask.MaskFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.MaskFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.mask.MaskFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>lb</em>, <em>ub=inf</em>, <em>out_dir=''</em>, <em>out_mask='mask.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.MaskFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow for creating a binary mask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to image to be masked.</p>
</div></blockquote>
<p><strong>lb</strong> : float</p>
<blockquote>
<div><p>Lower bound value.</p>
</div></blockquote>
<p><strong>ub</strong> : float</p>
<blockquote>
<div><p>Upper bound value (default Inf)</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_mask</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the masked file (default &#8216;mask.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id12">
<h3><a class="reference internal" href="#dipy.workflows.mask.Workflow" title="dipy.workflows.mask.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.mask.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.mask.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow.get_io_iterator" title="dipy.workflows.mask.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow.get_short_name" title="dipy.workflows.mask.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow.get_sub_runs" title="dipy.workflows.mask.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow.manage_output_overwrite" title="dipy.workflows.mask.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.mask.Workflow.run" title="dipy.workflows.mask.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.mask.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.mask.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.mask.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.mask.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.mask.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.mask.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id13">
<h3>load_nifti<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.mask.load_nifti">
<code class="descclassname">dipy.workflows.mask.</code><code class="descname">load_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>return_img=False</em>, <em>return_voxsize=False</em>, <em>return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id14">
<h3>save_nifti<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.mask.save_nifti">
<code class="descclassname">dipy.workflows.mask.</code><code class="descname">save_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>data</em>, <em>affine</em>, <em>hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.mask.save_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="ioiterator">
<h3><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator" title="dipy.workflows.multi_io.IOIterator"><code class="xref py py-class docutils literal"><span class="pre">IOIterator</span></code></a><a class="headerlink" href="#ioiterator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.multi_io.IOIterator">
<em class="property">class </em><code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">IOIterator</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Create output filenames that work nicely with multiple input files from
multiple directories (processing multiple subjects with one command)</p>
<p>Use information from input files, out_dir and out_fnames to generate correct
outputs which can come from long lists of multiple or single inputs.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.create_directories" title="dipy.workflows.multi_io.IOIterator.create_directories"><code class="xref py py-obj docutils literal"><span class="pre">create_directories</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.create_outputs" title="dipy.workflows.multi_io.IOIterator.create_outputs"><code class="xref py py-obj docutils literal"><span class="pre">create_outputs</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.set_inputs" title="dipy.workflows.multi_io.IOIterator.set_inputs"><code class="xref py py-obj docutils literal"><span class="pre">set_inputs</span></code></a>(*args)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.set_out_dir" title="dipy.workflows.multi_io.IOIterator.set_out_dir"><code class="xref py py-obj docutils literal"><span class="pre">set_out_dir</span></code></a>(out_dir)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.set_out_fnames" title="dipy.workflows.multi_io.IOIterator.set_out_fnames"><code class="xref py py-obj docutils literal"><span class="pre">set_out_fnames</span></code></a>(*args)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.multi_io.IOIterator.set_output_keys" title="dipy.workflows.multi_io.IOIterator.set_output_keys"><code class="xref py py-obj docutils literal"><span class="pre">set_output_keys</span></code></a>(*args)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.create_directories">
<code class="descname">create_directories</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.create_directories" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.create_outputs">
<code class="descname">create_outputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.create_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.set_inputs">
<code class="descname">set_inputs</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.set_inputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.set_out_dir">
<code class="descname">set_out_dir</code><span class="sig-paren">(</span><em>out_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.set_out_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.set_out_fnames">
<code class="descname">set_out_fnames</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.set_out_fnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.multi_io.IOIterator.set_output_keys">
<code class="descname">set_output_keys</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.IOIterator.set_output_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="basename-without-extension">
<h3>basename_without_extension<a class="headerlink" href="#basename-without-extension" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.basename_without_extension">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">basename_without_extension</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.basename_without_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="common-start">
<h3>common_start<a class="headerlink" href="#common-start" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.common_start">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">common_start</code><span class="sig-paren">(</span><em>sa</em>, <em>sb</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.common_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the longest common substring from the beginning of sa and sb</p>
</dd></dl>

</div>
<div class="section" id="concatenate-inputs">
<h3>concatenate_inputs<a class="headerlink" href="#concatenate-inputs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.concatenate_inputs">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">concatenate_inputs</code><span class="sig-paren">(</span><em>multi_inputs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.concatenate_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate list of inputs</p>
</dd></dl>

</div>
<div class="section" id="connect-output-paths">
<h3>connect_output_paths<a class="headerlink" href="#connect-output-paths" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.connect_output_paths">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">connect_output_paths</code><span class="sig-paren">(</span><em>inputs</em>, <em>out_dir</em>, <em>out_files</em>, <em>output_strategy='append'</em>, <em>mix_names=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.connect_output_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a list of output files paths based on input files and
output strategies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : array</p>
<blockquote>
<div><blockquote>
<div><p>List of input paths.</p>
</div></blockquote>
<dl class="docutils">
<dt>out_dir <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">The output directory.</p>
</dd>
<dt>out_files <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd><p class="first last">List of output files.</p>
</dd>
<dt>output_strategy <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><dl class="first last docutils">
<dt>Which strategy to use to generate the output paths.</dt>
<dd><p class="first last">&#8216;append&#8217;: Add out_dir to the path of the input.
&#8216;prepend&#8217;: Add the input path directory tree to out_dir.
&#8216;absolute&#8217;: Put directly in out_dir.</p>
</dd>
</dl>
</dd>
<dt>mix_names <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Whether or not prepend a string composed of a mix of the input names
to the final output name.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of output file paths.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id15">
<h3>get_args_default<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.get_args_default">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">get_args_default</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.get_args_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="glob">
<h3>glob<a class="headerlink" href="#glob" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.glob">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">glob</code><span class="sig-paren">(</span><em>pathname</em>, <em>*</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of paths matching a pathname pattern.</p>
<p>The pattern may contain simple shell-style wildcards a la
fnmatch. However, unlike fnmatch, filenames starting with a
dot are special cases that are not matched by &#8216;*&#8217; and &#8216;?&#8217;
patterns.</p>
<p>If recursive is true, the pattern &#8216;**&#8217; will match any files and
zero or more directories and subdirectories.</p>
</dd></dl>

</div>
<div class="section" id="io-iterator">
<h3>io_iterator<a class="headerlink" href="#io-iterator" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.io_iterator">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">io_iterator</code><span class="sig-paren">(</span><em>inputs</em>, <em>out_dir</em>, <em>fnames</em>, <em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>out_keys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an IOIterator from the parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : array</p>
<blockquote>
<div><blockquote>
<div><p>List of input files.</p>
</div></blockquote>
<dl class="docutils">
<dt>out_dir <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Output directory.</p>
</dd>
<dt>fnames <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd><p class="first last">File names of all outputs to be created.</p>
</dd>
<dt>output_strategy <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Controls the behavior of the IOIterator for output paths.</p>
</dd>
<dt>mix_names <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Whether or not to append a mix of input names at the beginning.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<blockquote class="last">
<div><p>Properly instantiated IOIterator object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id16">
<h3><a href="#id76"><span class="problematic" id="id77">io_iterator_</span></a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.io_iterator_">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">io_iterator_</code><span class="sig-paren">(</span><em>frame</em>, <em>fnc</em>, <em>output_strategy='append'</em>, <em>mix_names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.io_iterator_" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an IOIterator using introspection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>frame</strong> : frameobject</p>
<blockquote>
<div><blockquote>
<div><p>Contains the info about the current local variables values.</p>
</div></blockquote>
<dl class="docutils">
<dt>fnc <span class="classifier-delimiter">:</span> <span class="classifier">function</span></dt>
<dd><p class="first last">The function to inspect</p>
</dd>
<dt>output_strategy <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Controls the behavior of the IOIterator for output paths.</p>
</dd>
<dt>mix_names <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Whether or not to append a mix of input names at the beginning.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<blockquote class="last">
<div><p>Properly instantiated IOIterator object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="slash-to-under">
<h3>slash_to_under<a class="headerlink" href="#slash-to-under" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.multi_io.slash_to_under">
<code class="descclassname">dipy.workflows.multi_io.</code><code class="descname">slash_to_under</code><span class="sig-paren">(</span><em>dir_str</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.multi_io.slash_to_under" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="constrainedsphericaldeconvmodel">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel" title="dipy.workflows.reconst.ConstrainedSphericalDeconvModel"><code class="xref py py-class docutils literal"><span class="pre">ConstrainedSphericalDeconvModel</span></code></a><a class="headerlink" href="#constrainedsphericaldeconvmodel" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ConstrainedSphericalDeconvModel">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ConstrainedSphericalDeconvModel</code><span class="sig-paren">(</span><em>gtab</em>, <em>response</em>, <em>reg_sphere=None</em>, <em>sh_order=8</em>, <em>lambda_=1</em>, <em>tau=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.shm.SphHarmModel" title="dipy.reconst.shm.SphHarmModel"><code class="xref py py-class docutils literal"><span class="pre">dipy.reconst.shm.SphHarmModel</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_clear</span></code>()</td>
<td>Clear the cache.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_get</span></code>(tag,&nbsp;key[,&nbsp;default])</td>
<td>Retrieve a value from the cache.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_set</span></code>(tag,&nbsp;key,&nbsp;value)</td>
<td>Store a value in the cache.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel.fit" title="dipy.workflows.reconst.ConstrainedSphericalDeconvModel.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(data[,&nbsp;mask])</td>
<td>Fit method for every voxel in data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel.predict" title="dipy.workflows.reconst.ConstrainedSphericalDeconvModel.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(sh_coeff[,&nbsp;gtab,&nbsp;S0])</td>
<td>Compute a signal prediction given spherical harmonic coefficients for the provided GradientTable class instance.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">sampling_matrix</span></code>(sphere)</td>
<td>The matrix needed to sample ODFs from coefficients of the model.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ConstrainedSphericalDeconvModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>gtab</em>, <em>response</em>, <em>reg_sphere=None</em>, <em>sh_order=8</em>, <em>lambda_=1</em>, <em>tau=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrained Spherical Deconvolution (CSD) <a class="reference internal" href="#r508" id="id17">[R508]</a>.</p>
<p>Spherical deconvolution computes a fiber orientation distribution
(FOD), also called fiber ODF (fODF) <a class="reference internal" href="#r509" id="id18">[R509]</a>, as opposed to a diffusion ODF
as the QballModel or the CsaOdfModel. This results in a sharper angular
profile with better angular resolution that is the best object to be
used for later deterministic and probabilistic tractography <a class="reference internal" href="#r510" id="id19">[R510]</a>.</p>
<p>A sharp fODF is obtained because a single fiber <em>response</em> function is
injected as <em>a priori</em> knowledge. The response function is often
data-driven and is thus provided as input to the
ConstrainedSphericalDeconvModel. It will be used as deconvolution
kernel, as described in <a class="reference internal" href="#r508" id="id20">[R508]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gtab</strong> : GradientTable</p>
<p><strong>response</strong> : tuple or AxSymShResponse object</p>
<blockquote>
<div><p>A tuple with two elements. The first is the eigen-values as an (3,)
ndarray and the second is the signal value for the response
function without diffusion weighting.  This is to be able to
generate a single fiber synthetic signal. The response function
will be used as deconvolution kernel (<a class="reference internal" href="#r508" id="id21">[R508]</a>)</p>
</div></blockquote>
<p><strong>reg_sphere</strong> : Sphere (optional)</p>
<blockquote>
<div><p>sphere used to build the regularization B matrix.
Default: &#8216;symmetric362&#8217;.</p>
</div></blockquote>
<p><strong>sh_order</strong> : int (optional)</p>
<blockquote>
<div><p>maximal spherical harmonics order. Default: 8</p>
</div></blockquote>
<p><strong>lambda_</strong> : float (optional)</p>
<blockquote>
<div><p>weight given to the constrained-positivity regularization part of
the deconvolution equation (see <a class="reference internal" href="#r508" id="id22">[R508]</a>). Default: 1</p>
</div></blockquote>
<p><strong>tau</strong> : float (optional)</p>
<blockquote class="last">
<div><p>threshold controlling the amplitude below which the corresponding
fODF is assumed to be zero.  Ideally, tau should be set to
zero. However, to improve the stability of the algorithm, tau is
set to tau*100 % of the mean fODF amplitude (here, 10% by default)
(see <a class="reference internal" href="#r508" id="id23">[R508]</a>). Default: 0.1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r508" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R508]</td><td><em>(<a class="fn-backref" href="#id17">1</a>, <a class="fn-backref" href="#id20">2</a>, <a class="fn-backref" href="#id21">3</a>, <a class="fn-backref" href="#id22">4</a>, <a class="fn-backref" href="#id23">5</a>, <a class="fn-backref" href="#id24">6</a>)</em> Tournier, J.D., et al. NeuroImage 2007. Robust determination of
the fibre orientation distribution in diffusion MRI:
Non-negativity constrained super-resolved spherical
deconvolution</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r509" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R509]</td><td><em>(<a class="fn-backref" href="#id18">1</a>, <a class="fn-backref" href="#id25">2</a>)</em> Descoteaux, M., et al. IEEE TMI 2009. Deterministic and
Probabilistic Tractography Based on Complex Fibre Orientation
Distributions</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r510" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R510]</td><td><em>(<a class="fn-backref" href="#id19">1</a>, <a class="fn-backref" href="#id26">2</a>)</em> C^ot&#8217;e, M-A., et al. Medical Image Analysis 2013. Tractometer:
Towards validation of tractography pipelines</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r511" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id27">[R511]</a></td><td>Tournier, J.D, et al. Imaging Systems and Technology
2012. MRtrix: Diffusion Tractography in Crossing Fiber Regions</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ConstrainedSphericalDeconvModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>data</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit method for every voxel in data</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ConstrainedSphericalDeconvModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>sh_coeff</em>, <em>gtab=None</em>, <em>S0=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ConstrainedSphericalDeconvModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a signal prediction given spherical harmonic coefficients
for the provided GradientTable class instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sh_coeff</strong> : ndarray</p>
<blockquote>
<div><p>The spherical harmonic representation of the FOD from which to make
the signal prediction.</p>
</div></blockquote>
<p><strong>gtab</strong> : GradientTable</p>
<blockquote>
<div><p>The gradients for which the signal will be predicted. Use the
model&#8217;s gradient table by default.</p>
</div></blockquote>
<p><strong>S0</strong> : ndarray or float</p>
<blockquote>
<div><p>The non diffusion-weighted signal value.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pred_sig</strong> : ndarray</p>
<blockquote class="last">
<div><p>The predicted signal.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="csaodfmodel">
<h3><a class="reference internal" href="#dipy.workflows.reconst.CsaOdfModel" title="dipy.workflows.reconst.CsaOdfModel"><code class="xref py py-class docutils literal"><span class="pre">CsaOdfModel</span></code></a><a class="headerlink" href="#csaodfmodel" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.CsaOdfModel">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">CsaOdfModel</code><span class="sig-paren">(</span><em>gtab</em>, <em>sh_order</em>, <em>smooth=0.006</em>, <em>min_signal=1.0</em>, <em>assume_normed=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.CsaOdfModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.shm.QballBaseModel" title="dipy.reconst.shm.QballBaseModel"><code class="xref py py-class docutils literal"><span class="pre">dipy.reconst.shm.QballBaseModel</span></code></a></p>
<p>Implementation of Constant Solid Angle reconstruction method.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r512" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id28">[R512]</a></td><td>Aganj, I., et al. 2009. ODF Reconstruction in Q-Ball Imaging With
Solid Angle Consideration.</td></tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_clear</span></code>()</td>
<td>Clear the cache.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_get</span></code>(tag,&nbsp;key[,&nbsp;default])</td>
<td>Retrieve a value from the cache.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">cache_set</span></code>(tag,&nbsp;key,&nbsp;value)</td>
<td>Store a value in the cache.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code>(data[,&nbsp;mask])</td>
<td>Fits the model to diffusion data and returns the model fit</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">sampling_matrix</span></code>(sphere)</td>
<td>The matrix needed to sample ODFs from coefficients of the model.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.CsaOdfModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>gtab</em>, <em>sh_order</em>, <em>smooth=0.006</em>, <em>min_signal=1.0</em>, <em>assume_normed=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.CsaOdfModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a model that can be used to fit or sample diffusion data</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">normalize_data</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.reconst.CsaOdfModel.max">
<code class="descname">max</code><em class="property"> = 0.999</em><a class="headerlink" href="#dipy.workflows.reconst.CsaOdfModel.max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.reconst.CsaOdfModel.min">
<code class="descname">min</code><em class="property"> = 0.001</em><a class="headerlink" href="#dipy.workflows.reconst.CsaOdfModel.min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="diffusionkurtosismodel">
<h3><a class="reference internal" href="#dipy.workflows.reconst.DiffusionKurtosisModel" title="dipy.workflows.reconst.DiffusionKurtosisModel"><code class="xref py py-class docutils literal"><span class="pre">DiffusionKurtosisModel</span></code></a><a class="headerlink" href="#diffusionkurtosismodel" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.DiffusionKurtosisModel">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">DiffusionKurtosisModel</code><span class="sig-paren">(</span><em>gtab</em>, <em>fit_method='WLS'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.DiffusionKurtosisModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.base.ReconstModel" title="dipy.reconst.base.ReconstModel"><code class="xref py py-class docutils literal"><span class="pre">dipy.reconst.base.ReconstModel</span></code></a></p>
<p>Class for the Diffusion Kurtosis Model</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.DiffusionKurtosisModel.fit" title="dipy.workflows.reconst.DiffusionKurtosisModel.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(data[,&nbsp;mask])</td>
<td>Fit method of the DKI model class</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.DiffusionKurtosisModel.predict" title="dipy.workflows.reconst.DiffusionKurtosisModel.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(dki_params[,&nbsp;S0])</td>
<td>Predict a signal for this DKI model class instance given parameters.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.DiffusionKurtosisModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>gtab</em>, <em>fit_method='WLS'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.DiffusionKurtosisModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Diffusion Kurtosis Tensor Model [1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gtab</strong> : GradientTable class instance</p>
<p><strong>fit_method</strong> : str or callable</p>
<blockquote>
<div><p>str can be one of the following:
&#8216;OLS&#8217; or &#8216;ULLS&#8217; for ordinary least squares</p>
<blockquote>
<div><p>dki.ols_fit_dki</p>
</div></blockquote>
<dl class="docutils">
<dt>&#8216;WLS&#8217; or &#8216;UWLLS&#8217; for weighted ordinary least squares</dt>
<dd><p class="first last">dki.wls_fit_dki</p>
</dd>
<dt>callable has to have the signature:</dt>
<dd><p class="first last">fit_method(design_matrix, data, <a href="#id29"><span class="problematic" id="id30">*</span></a>args, <a href="#id31"><span class="problematic" id="id32">**</span></a>kwargs)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>args, kwargs</strong> : arguments and key-word arguments passed to the</p>
<blockquote class="last">
<div><p>fit_method. See dki.ols_fit_dki, dki.wls_fit_dki for details</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r513" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id33">[R513]</a></td><td>Tabesh, A., Jensen, J.H., Ardekani, B.A., Helpern, J.A., 2011.</td></tr>
</tbody>
</table>
<p>Estimation of tensors and tensor-derived measures in diffusional
kurtosis imaging. Magn Reson Med. 65(3), 823-836</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.DiffusionKurtosisModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>data</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.DiffusionKurtosisModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit method of the DKI model class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : array</p>
<blockquote>
<div><p>The measured signal from one voxel.</p>
</div></blockquote>
<p><strong>mask</strong> : array</p>
<blockquote class="last">
<div><p>A boolean array used to mark the coordinates in the data that
should be analyzed that has the shape data.shape[-1]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.DiffusionKurtosisModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dki_params</em>, <em>S0=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.DiffusionKurtosisModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict a signal for this DKI model class instance given
parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dki_params</strong> : ndarray (x, y, z, 27) or (n, 27)</p>
<blockquote>
<div><p>All parameters estimated from the diffusion kurtosis model.
Parameters are ordered as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Three diffusion tensor&#8217;s eigenvalues</li>
<li>Three lines of the eigenvector matrix each containing the
first, second and third coordinates of the eigenvector</li>
<li>Fifteen elements of the kurtosis tensor</li>
</ol>
</div></blockquote>
</div></blockquote>
<p><strong>S0</strong> : float or ndarray (optional)</p>
<blockquote class="last">
<div><p>The non diffusion-weighted signal in every voxel, or across all
voxels. Default: 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstcsaflow">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSAFlow" title="dipy.workflows.reconst.ReconstCSAFlow"><code class="xref py py-class docutils literal"><span class="pre">ReconstCSAFlow</span></code></a><a class="headerlink" href="#reconstcsaflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ReconstCSAFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ReconstCSAFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSAFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSAFlow.get_short_name" title="dipy.workflows.reconst.ReconstCSAFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSAFlow.run" title="dipy.workflows.reconst.ReconstCSAFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;bvalues,&nbsp;bvectors,&nbsp;mask_files)</td>
<td>Constant Solid Angle.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ReconstCSAFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSAFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.ReconstCSAFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSAFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstCSAFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>bvalues</em>, <em>bvectors</em>, <em>mask_files</em>, <em>sh_order=6</em>, <em>odf_to_sh_order=8</em>, <em>b0_threshold=0.0</em>, <em>bvecs_tol=0.01</em>, <em>extract_pam_values=False</em>, <em>out_dir=''</em>, <em>out_pam='peaks.pam5'</em>, <em>out_shm='shm.nii.gz'</em>, <em>out_peaks_dir='peaks_dirs.nii.gz'</em>, <em>out_peaks_values='peaks_values.nii.gz'</em>, <em>out_peaks_indices='peaks_indices.nii.gz'</em>, <em>out_gfa='gfa.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSAFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Constant Solid Angle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>bvalues</strong> : string</p>
<blockquote>
<div><p>Path to the bvalues files. This path may contain wildcards to use
multiple bvalues files at once.</p>
</div></blockquote>
<p><strong>bvectors</strong> : string</p>
<blockquote>
<div><p>Path to the bvectors files. This path may contain wildcards to use
multiple bvectors files at once.</p>
</div></blockquote>
<p><strong>mask_files</strong> : string</p>
<blockquote>
<div><p>Path to the input masks. This path may contain wildcards to use
multiple masks at once. (default: No mask used)</p>
</div></blockquote>
<p><strong>sh_order</strong> : int, optional</p>
<blockquote>
<div><p>Spherical harmonics order (default 6) used in the CSA fit.</p>
</div></blockquote>
<p><strong>odf_to_sh_order</strong> : int, optional</p>
<blockquote>
<div><p>Spherical harmonics order used for peak_from_model to compress
the ODF to spherical harmonics coefficients (default 8)</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to find b=0 directions</p>
</div></blockquote>
<p><strong>bvecs_tol</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used so that norm(bvec)=1 (default 0.01)</p>
</div></blockquote>
<p><strong>extract_pam_values</strong> : bool, optional</p>
<blockquote>
<div><p>Wheter or not to save pam volumes as single nifti files.</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_pam</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks volume to be saved (default &#8216;peaks.pam5&#8217;)</p>
</div></blockquote>
<p><strong>out_shm</strong> : string, optional</p>
<blockquote>
<div><p>Name of the shperical harmonics volume to be saved
(default &#8216;shm.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_dir</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks directions volume to be saved
(default &#8216;peaks_dirs.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_values</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks values volume to be saved
(default &#8216;peaks_values.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_indices</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks indices volume to be saved
(default &#8216;peaks_indices.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_gfa</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the generalise fa volume to be saved (default &#8216;gfa.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r514" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id34">[R514]</a></td><td>Aganj, I., et al. 2009. ODF Reconstruction in Q-Ball Imaging
with Solid Angle Consideration.</td></tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstcsdflow">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSDFlow" title="dipy.workflows.reconst.ReconstCSDFlow"><code class="xref py py-class docutils literal"><span class="pre">ReconstCSDFlow</span></code></a><a class="headerlink" href="#reconstcsdflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ReconstCSDFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ReconstCSDFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSDFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSDFlow.get_short_name" title="dipy.workflows.reconst.ReconstCSDFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstCSDFlow.run" title="dipy.workflows.reconst.ReconstCSDFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;bvalues,&nbsp;bvectors,&nbsp;mask_files)</td>
<td>Constrained spherical deconvolution</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ReconstCSDFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSDFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.ReconstCSDFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSDFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstCSDFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>bvalues</em>, <em>bvectors</em>, <em>mask_files</em>, <em>b0_threshold=0.0</em>, <em>bvecs_tol=0.01</em>, <em>roi_center=None</em>, <em>roi_radius=10</em>, <em>fa_thr=0.7</em>, <em>frf=None</em>, <em>extract_pam_values=False</em>, <em>sh_order=8</em>, <em>odf_to_sh_order=8</em>, <em>out_dir=''</em>, <em>out_pam='peaks.pam5'</em>, <em>out_shm='shm.nii.gz'</em>, <em>out_peaks_dir='peaks_dirs.nii.gz'</em>, <em>out_peaks_values='peaks_values.nii.gz'</em>, <em>out_peaks_indices='peaks_indices.nii.gz'</em>, <em>out_gfa='gfa.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstCSDFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Constrained spherical deconvolution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>bvalues</strong> : string</p>
<blockquote>
<div><p>Path to the bvalues files. This path may contain wildcards to use
multiple bvalues files at once.</p>
</div></blockquote>
<p><strong>bvectors</strong> : string</p>
<blockquote>
<div><p>Path to the bvectors files. This path may contain wildcards to use
multiple bvectors files at once.</p>
</div></blockquote>
<p><strong>mask_files</strong> : string</p>
<blockquote>
<div><p>Path to the input masks. This path may contain wildcards to use
multiple masks at once. (default: No mask used)</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to find b=0 directions</p>
</div></blockquote>
<p><strong>bvecs_tol</strong> : float, optional</p>
<blockquote>
<div><p>Bvecs should be unit vectors. (default:0.01)</p>
</div></blockquote>
<p><strong>roi_center</strong> : variable int, optional</p>
<blockquote>
<div><p>Center of ROI in data. If center is None, it is assumed that it is
the center of the volume with shape <cite>data.shape[:3]</cite> (default None)</p>
</div></blockquote>
<p><strong>roi_radius</strong> : int, optional</p>
<blockquote>
<div><p>radius of cubic ROI in voxels (default 10)</p>
</div></blockquote>
<p><strong>fa_thr</strong> : float, optional</p>
<blockquote>
<div><p>FA threshold for calculating the response function (default 0.7)</p>
</div></blockquote>
<p><strong>frf</strong> : variable float, optional</p>
<blockquote>
<div><p>Fiber response function can be for example inputed as 15 4 4
(from the command line) or [15, 4, 4] from a Python script to be
converted to float and mutiplied by 10**-4 . If None
the fiber response function will be computed automatically
(default: None).</p>
</div></blockquote>
<p><strong>extract_pam_values</strong> : bool, optional</p>
<blockquote>
<div><p>Save or not to save pam volumes as single nifti files.</p>
</div></blockquote>
<p><strong>sh_order</strong> : int, optional</p>
<blockquote>
<div><p>Spherical harmonics order (default 6) used in the CSA fit.</p>
</div></blockquote>
<p><strong>odf_to_sh_order</strong> : int, optional</p>
<blockquote>
<div><p>Spherical harmonics order used for peak_from_model to compress
the ODF to spherical harmonics coefficients (default 8)</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_pam</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks volume to be saved (default &#8216;peaks.pam5&#8217;)</p>
</div></blockquote>
<p><strong>out_shm</strong> : string, optional</p>
<blockquote>
<div><p>Name of the shperical harmonics volume to be saved
(default &#8216;shm.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_dir</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks directions volume to be saved
(default &#8216;peaks_dirs.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_values</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks values volume to be saved
(default &#8216;peaks_values.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_peaks_indices</strong> : string, optional</p>
<blockquote>
<div><p>Name of the peaks indices volume to be saved
(default &#8216;peaks_indices.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_gfa</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the generalise fa volume to be saved (default &#8216;gfa.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r516" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id35">[R516]</a></td><td>Tournier, J.D., et al. NeuroImage 2007. Robust determination of
the fibre orientation distribution in diffusion MRI: Non-negativity
constrained super-resolved spherical deconvolution.</td></tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstdkiflow">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow" title="dipy.workflows.reconst.ReconstDkiFlow"><code class="xref py py-class docutils literal"><span class="pre">ReconstDkiFlow</span></code></a><a class="headerlink" href="#reconstdkiflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ReconstDkiFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ReconstDkiFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow.get_dki_model" title="dipy.workflows.reconst.ReconstDkiFlow.get_dki_model"><code class="xref py py-obj docutils literal"><span class="pre">get_dki_model</span></code></a>(gtab)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow.get_fitted_tensor" title="dipy.workflows.reconst.ReconstDkiFlow.get_fitted_tensor"><code class="xref py py-obj docutils literal"><span class="pre">get_fitted_tensor</span></code></a>(data,&nbsp;mask,&nbsp;bval,&nbsp;bvec[,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow.get_short_name" title="dipy.workflows.reconst.ReconstDkiFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDkiFlow.run" title="dipy.workflows.reconst.ReconstDkiFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;bvalues,&nbsp;bvectors,&nbsp;mask_files)</td>
<td>Workflow for Diffusion Kurtosis reconstruction and for computing DKI metrics.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDkiFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDkiFlow.get_dki_model">
<code class="descname">get_dki_model</code><span class="sig-paren">(</span><em>gtab</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow.get_dki_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDkiFlow.get_fitted_tensor">
<code class="descname">get_fitted_tensor</code><span class="sig-paren">(</span><em>data</em>, <em>mask</em>, <em>bval</em>, <em>bvec</em>, <em>b0_threshold=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow.get_fitted_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.ReconstDkiFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDkiFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>bvalues</em>, <em>bvectors</em>, <em>mask_files</em>, <em>b0_threshold=0.0</em>, <em>save_metrics=[]</em>, <em>out_dir=''</em>, <em>out_dt_tensor='dti_tensors.nii.gz'</em>, <em>out_fa='fa.nii.gz'</em>, <em>out_ga='ga.nii.gz'</em>, <em>out_rgb='rgb.nii.gz'</em>, <em>out_md='md.nii.gz'</em>, <em>out_ad='ad.nii.gz'</em>, <em>out_rd='rd.nii.gz'</em>, <em>out_mode='mode.nii.gz'</em>, <em>out_evec='evecs.nii.gz'</em>, <em>out_eval='evals.nii.gz'</em>, <em>out_dk_tensor='dki_tensors.nii.gz'</em>, <em>out_mk='mk.nii.gz'</em>, <em>out_ak='ak.nii.gz'</em>, <em>out_rk='rk.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDkiFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow for Diffusion Kurtosis reconstruction and for computing
DKI metrics. Performs a DKI reconstruction on the files by &#8216;globing&#8217;
<code class="docutils literal"><span class="pre">input_files</span></code> and saves the DTI metrics in a directory specified by
<code class="docutils literal"><span class="pre">out_dir</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>bvalues</strong> : string</p>
<blockquote>
<div><p>Path to the bvalues files. This path may contain wildcards to use
multiple bvalues files at once.</p>
</div></blockquote>
<p><strong>bvectors</strong> : string</p>
<blockquote>
<div><p>Path to the bvalues files. This path may contain wildcards to use
multiple bvalues files at once.</p>
</div></blockquote>
<p><strong>mask_files</strong> : string</p>
<blockquote>
<div><p>Path to the input masks. This path may contain wildcards to use
multiple masks at once. (default: No mask used)</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to find b=0 directions (default 0.0)</p>
</div></blockquote>
<p><strong>save_metrics</strong> : variable string, optional</p>
<blockquote>
<div><p>List of metrics to save.
Possible values: fa, ga, rgb, md, ad, rd, mode, tensor, evec, eval
(default [] (all))</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_dt_tensor</strong> : string, optional</p>
<blockquote>
<div><p>Name of the tensors volume to be saved
(default: &#8216;dti_tensors.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_dk_tensor</strong> : string, optional</p>
<blockquote>
<div><p>Name of the tensors volume to be saved
(default &#8216;dki_tensors.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_fa</strong> : string, optional</p>
<blockquote>
<div><p>Name of the fractional anisotropy volume to be saved
(default &#8216;fa.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_ga</strong> : string, optional</p>
<blockquote>
<div><p>Name of the geodesic anisotropy volume to be saved
(default &#8216;ga.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_rgb</strong> : string, optional</p>
<blockquote>
<div><p>Name of the color fa volume to be saved (default &#8216;rgb.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_md</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mean diffusivity volume to be saved
(default &#8216;md.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_ad</strong> : string, optional</p>
<blockquote>
<div><p>Name of the axial diffusivity volume to be saved
(default &#8216;ad.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_rd</strong> : string, optional</p>
<blockquote>
<div><p>Name of the radial diffusivity volume to be saved
(default &#8216;rd.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_mode</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mode volume to be saved (default &#8216;mode.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_evec</strong> : string, optional</p>
<blockquote>
<div><p>Name of the eigenvectors volume to be saved
(default &#8216;evecs.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_eval</strong> : string, optional</p>
<blockquote>
<div><p>Name of the eigenvalues to be saved (default &#8216;evals.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_mk</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mean kurtosis to be saved (default: &#8216;mk.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_ak</strong> : string, optional</p>
<blockquote>
<div><p>Name of the axial kurtosis to be saved (default: &#8216;ak.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_rk</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the radial kurtosis to be saved (default: &#8216;rk.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r518" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id36">[R518]</a></td><td>Tabesh, A., Jensen, J.H., Ardekani, B.A., Helpern, J.A., 2011.
Estimation of tensors and tensor-derived measures in diffusional
kurtosis imaging. Magn Reson Med. 65(3), 823-836</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r519" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id37">[R519]</a></td><td>Jensen, Jens H., Joseph A. Helpern, Anita Ramani, Hanzhang Lu,
and Kyle Kaczynski. 2005. Diffusional Kurtosis Imaging: The
Quantification of Non-Gaussian Water Diffusion by Means of Magnetic
Resonance Imaging. MRM 53 (6):1432-40.</td></tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstdtiflow">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow" title="dipy.workflows.reconst.ReconstDtiFlow"><code class="xref py py-class docutils literal"><span class="pre">ReconstDtiFlow</span></code></a><a class="headerlink" href="#reconstdtiflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ReconstDtiFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ReconstDtiFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow.get_fitted_tensor" title="dipy.workflows.reconst.ReconstDtiFlow.get_fitted_tensor"><code class="xref py py-obj docutils literal"><span class="pre">get_fitted_tensor</span></code></a>(data,&nbsp;mask,&nbsp;bval,&nbsp;bvec[,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow.get_short_name" title="dipy.workflows.reconst.ReconstDtiFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow.get_tensor_model" title="dipy.workflows.reconst.ReconstDtiFlow.get_tensor_model"><code class="xref py py-obj docutils literal"><span class="pre">get_tensor_model</span></code></a>(gtab)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstDtiFlow.run" title="dipy.workflows.reconst.ReconstDtiFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files,&nbsp;bvalues,&nbsp;bvectors,&nbsp;mask_files)</td>
<td>Workflow for tensor reconstruction and for computing DTI metrics.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDtiFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDtiFlow.get_fitted_tensor">
<code class="descname">get_fitted_tensor</code><span class="sig-paren">(</span><em>data</em>, <em>mask</em>, <em>bval</em>, <em>bvec</em>, <em>b0_threshold=0</em>, <em>bvecs_tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow.get_fitted_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.ReconstDtiFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDtiFlow.get_tensor_model">
<code class="descname">get_tensor_model</code><span class="sig-paren">(</span><em>gtab</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow.get_tensor_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstDtiFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>bvalues</em>, <em>bvectors</em>, <em>mask_files</em>, <em>b0_threshold=0.0</em>, <em>bvecs_tol=0.01</em>, <em>save_metrics=[]</em>, <em>out_dir=''</em>, <em>out_tensor='tensors.nii.gz'</em>, <em>out_fa='fa.nii.gz'</em>, <em>out_ga='ga.nii.gz'</em>, <em>out_rgb='rgb.nii.gz'</em>, <em>out_md='md.nii.gz'</em>, <em>out_ad='ad.nii.gz'</em>, <em>out_rd='rd.nii.gz'</em>, <em>out_mode='mode.nii.gz'</em>, <em>out_evec='evecs.nii.gz'</em>, <em>out_eval='evals.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstDtiFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow for tensor reconstruction and for computing DTI metrics.
using Weighted Least-Squares.
Performs a tensor reconstruction on the files by &#8216;globing&#8217;
<code class="docutils literal"><span class="pre">input_files</span></code> and saves the DTI metrics in a directory specified by
<code class="docutils literal"><span class="pre">out_dir</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>bvalues</strong> : string</p>
<blockquote>
<div><p>Path to the bvalues files. This path may contain wildcards to use
multiple bvalues files at once.</p>
</div></blockquote>
<p><strong>bvectors</strong> : string</p>
<blockquote>
<div><p>Path to the bvectors files. This path may contain wildcards to use
multiple bvectors files at once.</p>
</div></blockquote>
<p><strong>mask_files</strong> : string</p>
<blockquote>
<div><p>Path to the input masks. This path may contain wildcards to use
multiple masks at once. (default: No mask used)</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to find b=0 directions (default 0.0)</p>
</div></blockquote>
<p><strong>bvecs_tol</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to check that norm(bvec) = 1 +/- bvecs_tol
b-vectors are unit vectors (default 0.01)</p>
</div></blockquote>
<p><strong>save_metrics</strong> : variable string, optional</p>
<blockquote>
<div><p>List of metrics to save.
Possible values: fa, ga, rgb, md, ad, rd, mode, tensor, evec, eval
(default [] (all))</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_tensor</strong> : string, optional</p>
<blockquote>
<div><p>Name of the tensors volume to be saved (default &#8216;tensors.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_fa</strong> : string, optional</p>
<blockquote>
<div><p>Name of the fractional anisotropy volume to be saved
(default &#8216;fa.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_ga</strong> : string, optional</p>
<blockquote>
<div><p>Name of the geodesic anisotropy volume to be saved
(default &#8216;ga.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_rgb</strong> : string, optional</p>
<blockquote>
<div><p>Name of the color fa volume to be saved (default &#8216;rgb.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_md</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mean diffusivity volume to be saved
(default &#8216;md.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_ad</strong> : string, optional</p>
<blockquote>
<div><p>Name of the axial diffusivity volume to be saved
(default &#8216;ad.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_rd</strong> : string, optional</p>
<blockquote>
<div><p>Name of the radial diffusivity volume to be saved
(default &#8216;rd.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_mode</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mode volume to be saved (default &#8216;mode.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_evec</strong> : string, optional</p>
<blockquote>
<div><p>Name of the eigenvectors volume to be saved
(default &#8216;evecs.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_eval</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the eigenvalues to be saved (default &#8216;evals.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r522" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id38">[R522]</a></td><td>Basser, P.J., Mattiello, J., LeBihan, D., 1994. Estimation of
the effective self-diffusion tensor from the NMR spin echo. J Magn
Reson B 103, 247-254.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r523" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id39">[R523]</a></td><td>Basser, P., Pierpaoli, C., 1996. Microstructural and
physiological features of tissues elucidated by quantitative
diffusion-tensor MRI.  Journal of Magnetic Resonance 111, 209-219.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r524" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id40">[R524]</a></td><td>Lin-Ching C., Jones D.K., Pierpaoli, C. 2005. RESTORE: Robust
estimation of tensors by outlier rejection. MRM 53: 1088-1095</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r525" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id41">[R525]</a></td><td>hung, SW., Lu, Y., Henry, R.G., 2006. Comparison of bootstrap
approaches for estimation of uncertainties of DTI parameters.
NeuroImage 33, 531-541.</td></tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reconstmapmriflow">
<h3><a class="reference internal" href="#dipy.workflows.reconst.ReconstMAPMRIFlow" title="dipy.workflows.reconst.ReconstMAPMRIFlow"><code class="xref py py-class docutils literal"><span class="pre">ReconstMAPMRIFlow</span></code></a><a class="headerlink" href="#reconstmapmriflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.ReconstMAPMRIFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">ReconstMAPMRIFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstMAPMRIFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstMAPMRIFlow.get_short_name" title="dipy.workflows.reconst.ReconstMAPMRIFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.ReconstMAPMRIFlow.run" title="dipy.workflows.reconst.ReconstMAPMRIFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(data_file,&nbsp;data_bvals,&nbsp;data_bvecs,&nbsp;...)</td>
<td>Workflow for fitting the MAPMRI model (with optional Laplacian regularization).</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.ReconstMAPMRIFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstMAPMRIFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.ReconstMAPMRIFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstMAPMRIFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.ReconstMAPMRIFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>data_file</em>, <em>data_bvals</em>, <em>data_bvecs</em>, <em>small_delta</em>, <em>big_delta</em>, <em>b0_threshold=0.0</em>, <em>laplacian=True</em>, <em>positivity=True</em>, <em>bval_threshold=2000</em>, <em>save_metrics=[]</em>, <em>laplacian_weighting=0.05</em>, <em>radial_order=6</em>, <em>out_dir=''</em>, <em>out_rtop='rtop.nii.gz'</em>, <em>out_lapnorm='lapnorm.nii.gz'</em>, <em>out_msd='msd.nii.gz'</em>, <em>out_qiv='qiv.nii.gz'</em>, <em>out_rtap='rtap.nii.gz'</em>, <em>out_rtpp='rtpp.nii.gz'</em>, <em>out_ng='ng.nii.gz'</em>, <em>out_perng='perng.nii.gz'</em>, <em>out_parng='parng.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.ReconstMAPMRIFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow for fitting the MAPMRI model (with optional Laplacian
regularization). Generates rtop, lapnorm, msd, qiv, rtap, rtpp,
non-gaussian (ng), parallel ng, perpendicular ng saved in a nifti
format in input files provided by <cite>data_file</cite> and saves the nifti files
to an output directory specified by <cite>out_dir</cite>.</p>
<p>In order for the MAPMRI workflow to work in the way
intended either the laplacian or positivity or both must
be set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_file</strong> : string</p>
<blockquote>
<div><p>Path to the input volume.</p>
</div></blockquote>
<p><strong>data_bvals</strong> : string</p>
<blockquote>
<div><p>Path to the bval files.</p>
</div></blockquote>
<p><strong>data_bvecs</strong> : string</p>
<blockquote>
<div><p>Path to the bvec files.</p>
</div></blockquote>
<p><strong>small_delta</strong> : float</p>
<blockquote>
<div><p>Small delta value used in generation of gradient table of provided
bval and bvec.</p>
</div></blockquote>
<p><strong>big_delta</strong> : float</p>
<blockquote>
<div><p>Big delta value used in generation of gradient table of provided
bval and bvec.</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float, optional</p>
<blockquote>
<div><p>Threshold used to find b=0 directions (default 0.0)</p>
</div></blockquote>
<p><strong>laplacian</strong> : bool</p>
<blockquote>
<div><p>Regularize using the Laplacian of the MAP-MRI basis (default True)</p>
</div></blockquote>
<p><strong>positivity</strong> : bool</p>
<blockquote>
<div><p>Constrain the propagator to be positive. (default True)</p>
</div></blockquote>
<p><strong>bval_threshold</strong> : float</p>
<blockquote>
<div><p>Sets the b-value threshold to be used in the scale factor
estimation. In order for the estimated non-Gaussianity to have
meaning this value should set to a lower value (b&lt;2000 s/mm^2)
such that the scale factors are estimated on signal points that
reasonably represent the spins at Gaussian diffusion.
(default: 2000)</p>
</div></blockquote>
<p><strong>save_metrics</strong> : list of strings</p>
<blockquote>
<div><p>List of metrics to save.
Possible values: rtop, laplacian_signal, msd, qiv, rtap, rtpp,
ng, perng, parng
(default: [] (all))</p>
</div></blockquote>
<p><strong>laplacian_weighting</strong> : float</p>
<blockquote>
<div><p>Weighting value used in fitting the MAPMRI model in the laplacian
and both model types. (default: 0.05)</p>
</div></blockquote>
<p><strong>radial_order</strong> : unsigned int</p>
<blockquote>
<div><p>Even value used to set the order of the basis
(default: 6)</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default: input file directory)</p>
</div></blockquote>
<p><strong>out_rtop</strong> : string, optional</p>
<blockquote>
<div><p>Name of the rtop to be saved</p>
</div></blockquote>
<p><strong>out_lapnorm</strong> : string, optional</p>
<blockquote>
<div><p>Name of the norm of laplacian signal to be saved</p>
</div></blockquote>
<p><strong>out_msd</strong> : string, optional</p>
<blockquote>
<div><p>Name of the msd to be saved</p>
</div></blockquote>
<p><strong>out_qiv</strong> : string, optional</p>
<blockquote>
<div><p>Name of the qiv to be saved</p>
</div></blockquote>
<p><strong>out_rtap</strong> : string, optional</p>
<blockquote>
<div><p>Name of the rtap to be saved</p>
</div></blockquote>
<p><strong>out_rtpp</strong> : string, optional</p>
<blockquote>
<div><p>Name of the rtpp to be saved</p>
</div></blockquote>
<p><strong>out_ng</strong> : string, optional</p>
<blockquote>
<div><p>Name of the Non-Gaussianity to be saved</p>
</div></blockquote>
<p><strong>out_perng</strong> :  string, optional</p>
<blockquote>
<div><p>Name of the Non-Gaussianity perpendicular to be saved</p>
</div></blockquote>
<p><strong>out_parng</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the Non-Gaussianity parallel to be saved</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tensormodel">
<h3><a class="reference internal" href="#dipy.workflows.reconst.TensorModel" title="dipy.workflows.reconst.TensorModel"><code class="xref py py-class docutils literal"><span class="pre">TensorModel</span></code></a><a class="headerlink" href="#tensormodel" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.TensorModel">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">TensorModel</code><span class="sig-paren">(</span><em>gtab</em>, <em>fit_method='WLS'</em>, <em>return_S0_hat=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.TensorModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.base.ReconstModel" title="dipy.reconst.base.ReconstModel"><code class="xref py py-class docutils literal"><span class="pre">dipy.reconst.base.ReconstModel</span></code></a></p>
<p>Diffusion Tensor</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.TensorModel.fit" title="dipy.workflows.reconst.TensorModel.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>(data[,&nbsp;mask])</td>
<td>Fit method of the DTI model class</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.TensorModel.predict" title="dipy.workflows.reconst.TensorModel.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(dti_params[,&nbsp;S0])</td>
<td>Predict a signal for this TensorModel class instance given parameters.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.TensorModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>gtab</em>, <em>fit_method='WLS'</em>, <em>return_S0_hat=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.TensorModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A Diffusion Tensor Model <a class="reference internal" href="#r530" id="id42">[R530]</a>, <a class="reference internal" href="#r531" id="id43">[R531]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gtab</strong> : GradientTable class instance</p>
<p><strong>fit_method</strong> : str or callable</p>
<blockquote>
<div><p>str can be one of the following:</p>
<dl class="docutils">
<dt>&#8216;WLS&#8217; for weighted least squares</dt>
<dd><p class="first last"><code class="xref py py-func docutils literal"><span class="pre">dti.wls_fit_tensor()</span></code></p>
</dd>
<dt>&#8216;LS&#8217; or &#8216;OLS&#8217; for ordinary least squares</dt>
<dd><p class="first last"><code class="xref py py-func docutils literal"><span class="pre">dti.ols_fit_tensor()</span></code></p>
</dd>
<dt>&#8216;NLLS&#8217; for non-linear least-squares</dt>
<dd><p class="first last"><code class="xref py py-func docutils literal"><span class="pre">dti.nlls_fit_tensor()</span></code></p>
</dd>
<dt>&#8216;RT&#8217; or &#8216;restore&#8217; or &#8216;RESTORE&#8217; for RESTORE robust tensor</dt>
<dd><p class="first last">fitting <a class="reference internal" href="#r532" id="id44">[R532]</a>
<code class="xref py py-func docutils literal"><span class="pre">dti.restore_fit_tensor()</span></code></p>
</dd>
<dt>callable has to have the signature:</dt>
<dd><p class="first last">fit_method(design_matrix, data, <a href="#id45"><span class="problematic" id="id46">*</span></a>args, <a href="#id47"><span class="problematic" id="id48">**</span></a>kwargs)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>return_S0_hat</strong> : bool</p>
<blockquote>
<div><p>Boolean to return (True) or not (False) the S0 values for the fit.</p>
</div></blockquote>
<p><strong>args, kwargs</strong> : arguments and key-word arguments passed to the</p>
<blockquote>
<div><p>fit_method. See dti.wls_fit_tensor, dti.ols_fit_tensor for details</p>
</div></blockquote>
<p><strong>min_signal</strong> : float</p>
<blockquote class="last">
<div><p>The minimum signal value. Needs to be a strictly positive
number. Default: minimal signal in the data provided to <cite>fit</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>In order to increase speed of processing, tensor fitting is done
simultaneously over many voxels. Many fit_methods use the &#8216;step&#8217;
parameter to set the number of voxels that will be fit at once in each
iteration. This is the chunk size as a number of voxels. A larger step
value should speed things up, but it will also take up more memory. It
is advisable to keep an eye on memory consumption as this value is
increased.</p>
<p>Example : In <code class="xref py py-func docutils literal"><span class="pre">iter_fit_tensor()</span></code> we have a default step value of
1e4</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r530" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R530]</td><td><em>(<a class="fn-backref" href="#id42">1</a>, <a class="fn-backref" href="#id49">2</a>)</em> Basser, P.J., Mattiello, J., LeBihan, D., 1994. Estimation of
the effective self-diffusion tensor from the NMR spin echo. J Magn
Reson B 103, 247-254.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r531" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R531]</td><td><em>(<a class="fn-backref" href="#id43">1</a>, <a class="fn-backref" href="#id50">2</a>)</em> Basser, P., Pierpaoli, C., 1996. Microstructural and
physiological features of tissues elucidated by quantitative
diffusion-tensor MRI.  Journal of Magnetic Resonance 111, 209-219.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r532" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R532]</td><td><em>(<a class="fn-backref" href="#id44">1</a>, <a class="fn-backref" href="#id51">2</a>)</em> Lin-Ching C., Jones D.K., Pierpaoli, C. 2005. RESTORE: Robust
estimation of tensors by outlier rejection. MRM 53: 1088-1095</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.TensorModel.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>data</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.TensorModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit method of the DTI model class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : array</p>
<blockquote>
<div><p>The measured signal from one voxel.</p>
</div></blockquote>
<p><strong>mask</strong> : array</p>
<blockquote class="last">
<div><p>A boolean array used to mark the coordinates in the data that
should be analyzed that has the shape data.shape[:-1]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.TensorModel.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>dti_params</em>, <em>S0=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.TensorModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict a signal for this TensorModel class instance given parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dti_params</strong> : ndarray</p>
<blockquote>
<div><p>The last dimension should have 12 tensor parameters: 3
eigenvalues, followed by the 3 eigenvectors</p>
</div></blockquote>
<p><strong>S0</strong> : float or ndarray</p>
<blockquote class="last">
<div><p>The non diffusion-weighted signal in every voxel, or across all
voxels. Default: 1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id52">
<h3><a class="reference internal" href="#dipy.workflows.reconst.Workflow" title="dipy.workflows.reconst.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.reconst.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.reconst.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow.get_io_iterator" title="dipy.workflows.reconst.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow.get_short_name" title="dipy.workflows.reconst.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow.get_sub_runs" title="dipy.workflows.reconst.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow.manage_output_overwrite" title="dipy.workflows.reconst.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.reconst.Workflow.run" title="dipy.workflows.reconst.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.reconst.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.reconst.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.reconst.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="auto-response">
<h3>auto_response<a class="headerlink" href="#auto-response" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.auto_response">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">auto_response</code><span class="sig-paren">(</span><em>gtab</em>, <em>data</em>, <em>roi_center=None</em>, <em>roi_radius=10</em>, <em>fa_thr=0.7</em>, <em>fa_callable=&lt;function fa_superior&gt;</em>, <em>return_number_of_voxels=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.auto_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatic estimation of response function using FA.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>gtab</strong> : GradientTable</p>
<p><strong>data</strong> : ndarray</p>
<blockquote>
<div><p>diffusion data</p>
</div></blockquote>
<p><strong>roi_center</strong> : tuple, (3,)</p>
<blockquote>
<div><p>Center of ROI in data. If center is None, it is assumed that it is
the center of the volume with shape <cite>data.shape[:3]</cite>.</p>
</div></blockquote>
<p><strong>roi_radius</strong> : int</p>
<blockquote>
<div><p>radius of cubic ROI</p>
</div></blockquote>
<p><strong>fa_thr</strong> : float</p>
<blockquote>
<div><p>FA threshold</p>
</div></blockquote>
<p><strong>fa_callable</strong> : callable</p>
<blockquote>
<div><p>A callable that defines an operation that compares FA with the fa_thr. The operator
should have two positional arguments (e.g., <cite>fa_operator(FA, fa_thr)</cite>) and it should
return a bool array.</p>
</div></blockquote>
<p><strong>return_number_of_voxels</strong> : bool</p>
<blockquote>
<div><p>If True, returns the number of voxels used for estimating the response
function.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>response</strong> : tuple, (2,)</p>
<blockquote>
<div><p>(<cite>evals</cite>, <cite>S0</cite>)</p>
</div></blockquote>
<p><strong>ratio</strong> : float</p>
<blockquote>
<div><p>The ratio between smallest versus largest eigenvalue of the response.</p>
</div></blockquote>
<p><strong>number of voxels</strong> : int (optional)</p>
<blockquote class="last">
<div><p>The number of voxels used for estimating the response function.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>In CSD there is an important pre-processing step: the estimation of the
fiber response function. In order to do this we look for voxels with very
anisotropic configurations. For example we can use an ROI (20x20x20) at
the center of the volume and store the signal values for the voxels with
FA values higher than 0.7. Of course, if we haven&#8217;t precalculated FA we
need to fit a Tensor model to the datasets. Which is what we do in this
function.</p>
<p>For the response we also need to find the average S0 in the ROI. This is
possible using <cite>gtab.b0s_mask()</cite> we can find all the S0 volumes (which
correspond to b-values equal 0) in the dataset.</p>
<p>The <cite>response</cite> consists always of a prolate tensor created by averaging
the highest and second highest eigenvalues in the ROI with FA higher than
threshold. We also include the average S0s.</p>
<p>We also return the <cite>ratio</cite> which is used for the SDT models. If requested,
the number of voxels used for estimating the response function is also
returned, which can be used to judge the fidelity of the response function.
As a rule of thumb, at least 300 voxels should be used to estimate a good
response function (see <a class="reference internal" href="#r533" id="id53">[R533]</a>).</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r533" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R533]</td><td><em>(<a class="fn-backref" href="#id53">1</a>, <a class="fn-backref" href="#id54">2</a>)</em> Tournier, J.D., et al. NeuroImage 2004. Direct estimation of the</td></tr>
</tbody>
</table>
<p>fiber orientation density function from diffusion-weighted MRI
data using spherical deconvolution</p>
</dd></dl>

</div>
<div class="section" id="axial-diffusivity">
<h3>axial_diffusivity<a class="headerlink" href="#axial-diffusivity" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.axial_diffusivity">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">axial_diffusivity</code><span class="sig-paren">(</span><em>evals</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.axial_diffusivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Axial Diffusivity (AD) of a diffusion tensor.
Also called parallel diffusivity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array-like</p>
<blockquote>
<div><p>Eigenvalues of a diffusion tensor, must be sorted in descending order
along <cite>axis</cite>.</p>
</div></blockquote>
<p><strong>axis</strong> : int</p>
<blockquote>
<div><p>Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ad</strong> : array</p>
<blockquote class="last">
<div><p>Calculated AD.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>AD is calculated with the following equation:</p>
<div class="math">
\[AD = \lambda_1\]</div>
</dd></dl>

</div>
<div class="section" id="color-fa">
<h3>color_fa<a class="headerlink" href="#color-fa" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.color_fa">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">color_fa</code><span class="sig-paren">(</span><em>fa</em>, <em>evecs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.color_fa" title="Permalink to this definition">¶</a></dt>
<dd><p>Color fractional anisotropy of diffusion tensor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fa</strong> : array-like</p>
<blockquote>
<div><blockquote>
<div><p>Array of the fractional anisotropy (can be 1D, 2D or 3D)</p>
</div></blockquote>
<dl class="docutils">
<dt>evecs <span class="classifier-delimiter">:</span> <span class="classifier">array-like</span></dt>
<dd><p class="first last">eigen vectors from the tensor model</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> : Array with 3 channels for each color as the last dimension.</p>
<blockquote class="last">
<div><p>Colormap of the FA with red for the x value, y for the green
value and z for the blue value.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>ec{e}))  imes fa</p>
</dd></dl>

</div>
<div class="section" id="fractional-anisotropy">
<h3>fractional_anisotropy<a class="headerlink" href="#fractional-anisotropy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.fractional_anisotropy">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">fractional_anisotropy</code><span class="sig-paren">(</span><em>evals</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.fractional_anisotropy" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Fractional anisotropy (FA) of a diffusion tensor.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array-like</p>
<blockquote>
<div><blockquote>
<div><p>Eigenvalues of a diffusion tensor.</p>
</div></blockquote>
<dl class="docutils">
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fa</strong> : array</p>
<blockquote class="last">
<div><p>Calculated FA. Range is 0 &lt;= FA &lt;= 1.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>rac{1}{2}
rac{(lambda_1-lambda_2)^2+(lambda_1-</p>
<blockquote>
<div>lambda_3)^2+(lambda_2-lambda_3)^2}{lambda_1^2+
lambda_2^2+lambda_3^2}}</div></blockquote>
</dd></dl>

</div>
<div class="section" id="geodesic-anisotropy">
<h3>geodesic_anisotropy<a class="headerlink" href="#geodesic-anisotropy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.geodesic_anisotropy">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">geodesic_anisotropy</code><span class="sig-paren">(</span><em>evals</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.geodesic_anisotropy" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Geodesic anisotropy (GA) of a diffusion tensor.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array-like</p>
<blockquote>
<div><blockquote>
<div><p>Eigenvalues of a diffusion tensor.</p>
</div></blockquote>
<dl class="docutils">
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ga</strong> : array</p>
<blockquote class="last">
<div><p>Calculated GA. In the range 0 to +infinity</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>ight )}},</dt>
<dd><blockquote class="first">
<div>quad   extrm{where} quad &lt;mathbf{D}&gt; =
(lambda_1lambda_2lambda_3)^{1/3}</div></blockquote>
<p class="last">Note that the notation, <span class="math">\(&lt;D&gt;\)</span>, is often used as the mean diffusivity (MD)
of the diffusion tensor and can lead to confusions in the literature
(see [R534] versus [R535] versus [R536] for example). Reference [R535] defines
geodesic anisotropy (GA) with <span class="math">\(&lt;D&gt;\)</span> as the MD in the denominator of the
sum. This is wrong. The original paper [R534] defines GA with
<span class="math">\(&lt;D&gt; = det(D)^{1/3}\)</span>, as the isotropic part of the distance. This might be
an explanation for the confusion. The isotropic part of the diffusion
tensor in Euclidean space is the MD whereas the isotropic part of the
tensor in log-Euclidean space is <span class="math">\(det(D)^{1/3}\)</span>. The Appendix of [R534] and
log-Euclidean derivations from [R536] are clear on this. Hence, all that to
say that <span class="math">\(&lt;D&gt; = det(D)^{1/3}\)</span> here for the GA definition and not MD.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="get-mode">
<h3>get_mode<a class="headerlink" href="#get-mode" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.get_mode">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">get_mode</code><span class="sig-paren">(</span><em>q_form</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.get_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Mode (MO) of a diffusion tensor <a class="reference internal" href="#r538" id="id62">[R538]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>q_form</strong> : ndarray</p>
<blockquote>
<div><p>The quadratic form of a tensor, or an array with quadratic forms of
tensors. Should be of shape (x, y, z, 3, 3) or (n, 3, 3) or (3, 3).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mode</strong> : array</p>
<blockquote class="last">
<div><p>Calculated tensor mode in each spatial coordinate.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Mode ranges between -1 (planar anisotropy) and +1 (linear anisotropy)
with 0 representing orthotropy. Mode is calculated with the
following equation (equation 9 in <a class="reference internal" href="#r538" id="id63">[R538]</a>):</p>
<div class="math">
\[Mode = 3*\sqrt{6}*det(\widetilde{A}/norm(\widetilde{A}))\]</div>
<p>Where <span class="math">\(\widetilde{A}\)</span> is the deviatoric part of the tensor quadratic form.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r538" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R538]</td><td><em>(<a class="fn-backref" href="#id62">1</a>, <a class="fn-backref" href="#id63">2</a>, <a class="fn-backref" href="#id64">3</a>)</em> Daniel B. Ennis and G. Kindlmann, &#8220;Orthogonal Tensor
Invariants and the Analysis of Diffusion Tensor Magnetic Resonance
Images&#8221;, Magnetic Resonance in Medicine, vol. 55, no. 1, pp. 136-146,
2006.</td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="get-sphere">
<h3>get_sphere<a class="headerlink" href="#get-sphere" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.get_sphere">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">get_sphere</code><span class="sig-paren">(</span><em>name='symmetric362'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.get_sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>provide triangulated spheres</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>which sphere - one of:
* &#8216;symmetric362&#8217;
* &#8216;symmetric642&#8217;
* &#8216;symmetric724&#8217;
* &#8216;repulsion724&#8217;
* &#8216;repulsion100&#8217;
* &#8216;repulsion200&#8217;</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>sphere</strong> : a dipy.core.sphere.Sphere class instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.data</span> <span class="k">import</span> <span class="n">get_sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sphere</span> <span class="o">=</span> <span class="n">get_sphere</span><span class="p">(</span><span class="s1">&#39;symmetric362&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="p">,</span> <span class="n">faces</span> <span class="o">=</span> <span class="n">sphere</span><span class="o">.</span><span class="n">vertices</span><span class="p">,</span> <span class="n">sphere</span><span class="o">.</span><span class="n">faces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">362</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">faces</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">720</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verts</span><span class="p">,</span> <span class="n">faces</span> <span class="o">=</span> <span class="n">get_sphere</span><span class="p">(</span><span class="s1">&#39;not a sphere name&#39;</span><span class="p">)</span> 
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">DataError</span>: <span class="n">No sphere called &quot;not a sphere name&quot;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="gradient-table">
<h3>gradient_table<a class="headerlink" href="#gradient-table" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.gradient_table">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">gradient_table</code><span class="sig-paren">(</span><em>bvals</em>, <em>bvecs=None</em>, <em>big_delta=None</em>, <em>small_delta=None</em>, <em>b0_threshold=0</em>, <em>atol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.gradient_table" title="Permalink to this definition">¶</a></dt>
<dd><p>A general function for creating diffusion MR gradients.</p>
<p>It reads, loads and prepares scanner parameters like the b-values and
b-vectors so that they can be useful during the reconstruction process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bvals</strong> : can be any of the four options</p>
<blockquote>
<div><ol class="arabic simple">
<li>an array of shape (N,) or (1, N) or (N, 1) with the b-values.</li>
<li>a path for the file which contains an array like the above (1).</li>
<li>an array of shape (N, 4) or (4, N). Then this parameter is
considered to be a b-table which contains both bvals and bvecs. In
this case the next parameter is skipped.</li>
<li>a path for the file which contains an array like the one at (3).</li>
</ol>
</div></blockquote>
<p><strong>bvecs</strong> : can be any of two options</p>
<blockquote>
<div><ol class="arabic simple">
<li>an array of shape (N, 3) or (3, N) with the b-vectors.</li>
<li>a path for the file which contains an array like the previous.</li>
</ol>
</div></blockquote>
<p><strong>big_delta</strong> : float</p>
<blockquote>
<div><p>acquisition timing duration (default None)</p>
</div></blockquote>
<p><strong>small_delta</strong> : float</p>
<blockquote>
<div><p>acquisition timing duration (default None)</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float</p>
<blockquote>
<div><p>All b-values with values less than or equal to <cite>bo_threshold</cite> are
considered as b0s i.e. without diffusion weighting.</p>
</div></blockquote>
<p><strong>atol</strong> : float</p>
<blockquote>
<div><p>All b-vectors need to be unit vectors up to a tolerance.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>gradients</strong> : GradientTable</p>
<blockquote class="last">
<div><p>A GradientTable with all the gradient information.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li>Often b0s (b-values which correspond to images without diffusion
weighting) have 0 values however in some cases the scanner cannot
provide b0s of an exact 0 value and it gives a bit higher values
e.g. 6 or 12. This is the purpose of the b0_threshold in the __init__.</li>
<li>We assume that the minimum number of b-values is 7.</li>
<li>B-vectors should be unit vectors.</li>
</ol>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.core.gradients</span> <span class="k">import</span> <span class="n">gradient_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bvals</span><span class="o">=</span><span class="mi">1500</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bvals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sq2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bvecs</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="n">sq2</span><span class="p">,</span> <span class="n">sq2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="n">sq2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sq2</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">sq2</span><span class="p">,</span> <span class="n">sq2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span> <span class="o">=</span> <span class="n">gradient_table</span><span class="p">(</span><span class="n">bvals</span><span class="p">,</span> <span class="n">bvecs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span><span class="o">.</span><span class="n">bvecs</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">bvecs</span><span class="o">.</span><span class="n">shape</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span> <span class="o">=</span> <span class="n">gradient_table</span><span class="p">(</span><span class="n">bvals</span><span class="p">,</span> <span class="n">bvecs</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt</span><span class="o">.</span><span class="n">bvecs</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">bvecs</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">shape</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="literal-eval">
<h3>literal_eval<a class="headerlink" href="#literal-eval" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.literal_eval">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">literal_eval</code><span class="sig-paren">(</span><em>node_or_string</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.literal_eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely evaluate an expression node or a string containing a Python
expression.  The string or node provided may only consist of the following
Python literal structures: strings, bytes, numbers, tuples, lists, dicts,
sets, booleans, and None.</p>
</dd></dl>

</div>
<div class="section" id="lower-triangular">
<h3>lower_triangular<a class="headerlink" href="#lower-triangular" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.lower_triangular">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">lower_triangular</code><span class="sig-paren">(</span><em>tensor</em>, <em>b0=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.lower_triangular" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the six lower triangular values of the tensor and a dummy variable
if b0 is not None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tensor</strong> : array_like (..., 3, 3)</p>
<blockquote>
<div><p>a collection of 3, 3 diffusion tensors</p>
</div></blockquote>
<p><strong>b0</strong> : float</p>
<blockquote>
<div><p>if b0 is not none log(b0) is returned as the dummy variable</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>D</strong> : ndarray</p>
<blockquote class="last">
<div><p>If b0 is none, then the shape will be (..., 6) otherwise (..., 7)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="mean-diffusivity">
<h3>mean_diffusivity<a class="headerlink" href="#mean-diffusivity" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.mean_diffusivity">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">mean_diffusivity</code><span class="sig-paren">(</span><em>evals</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.mean_diffusivity" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Mean Diffusivity (MD) of a diffusion tensor.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array-like</p>
<blockquote>
<div><blockquote>
<div><p>Eigenvalues of a diffusion tensor.</p>
</div></blockquote>
<dl class="docutils">
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>md</strong> : array</p>
<blockquote class="last">
<div><p>Calculated MD.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>rac{lambda_1 + lambda_2 + lambda_3}{3}</p>
</dd></dl>

</div>
<div class="section" id="peaks-from-model">
<h3>peaks_from_model<a class="headerlink" href="#peaks-from-model" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.peaks_from_model">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">peaks_from_model</code><span class="sig-paren">(</span><em>model</em>, <em>data</em>, <em>sphere</em>, <em>relative_peak_threshold</em>, <em>min_separation_angle</em>, <em>mask=None</em>, <em>return_odf=False</em>, <em>return_sh=True</em>, <em>gfa_thr=0</em>, <em>normalize_peaks=False</em>, <em>sh_order=8</em>, <em>sh_basis_type=None</em>, <em>npeaks=5</em>, <em>B=None</em>, <em>invB=None</em>, <em>parallel=False</em>, <em>nbr_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.peaks_from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model to data and computes peaks and metrics</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>model</strong> : a model instance</p>
<blockquote>
<div><p><cite>model</cite> will be used to fit the data.</p>
</div></blockquote>
<p><strong>sphere</strong> : Sphere</p>
<blockquote>
<div><p>The Sphere providing discrete directions for evaluation.</p>
</div></blockquote>
<p><strong>relative_peak_threshold</strong> : float</p>
<blockquote>
<div><p>Only return peaks greater than <code class="docutils literal"><span class="pre">relative_peak_threshold</span> <span class="pre">*</span> <span class="pre">m</span></code> where m
is the largest peak.</p>
</div></blockquote>
<p><strong>min_separation_angle</strong> : float in [0, 90] The minimum distance between</p>
<blockquote>
<div><p>directions. If two peaks are too close only the larger of the two is
returned.</p>
</div></blockquote>
<p><strong>mask</strong> : array, optional</p>
<blockquote>
<div><p>If <cite>mask</cite> is provided, voxels that are False in <cite>mask</cite> are skipped and
no peaks are returned.</p>
</div></blockquote>
<p><strong>return_odf</strong> : bool</p>
<blockquote>
<div><p>If True, the odfs are returned.</p>
</div></blockquote>
<p><strong>return_sh</strong> : bool</p>
<blockquote>
<div><p>If True, the odf as spherical harmonics coefficients is returned</p>
</div></blockquote>
<p><strong>gfa_thr</strong> : float</p>
<blockquote>
<div><p>Voxels with gfa less than <cite>gfa_thr</cite> are skipped, no peaks are returned.</p>
</div></blockquote>
<p><strong>normalize_peaks</strong> : bool</p>
<blockquote>
<div><p>If true, all peak values are calculated relative to <cite>max(odf)</cite>.</p>
</div></blockquote>
<p><strong>sh_order</strong> : int, optional</p>
<blockquote>
<div><p>Maximum SH order in the SH fit.  For <cite>sh_order</cite>, there will be
<code class="docutils literal"><span class="pre">(sh_order</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">*</span> <span class="pre">(sh_order</span> <span class="pre">+</span> <span class="pre">2)</span> <span class="pre">/</span> <span class="pre">2</span></code> SH coefficients (default 8).</p>
</div></blockquote>
<p><strong>sh_basis_type</strong> : {None, &#8216;mrtrix&#8217;, &#8216;fibernav&#8217;}</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">None</span></code> for the default dipy basis which is the fibernav basis,
<code class="docutils literal"><span class="pre">mrtrix</span></code> for the MRtrix basis, and
<code class="docutils literal"><span class="pre">fibernav</span></code> for the FiberNavigator basis</p>
</div></blockquote>
<p><strong>sh_smooth</strong> : float, optional</p>
<blockquote>
<div><p>Lambda-regularization in the SH fit (default 0.0).</p>
</div></blockquote>
<p><strong>npeaks</strong> : int</p>
<blockquote>
<div><p>Maximum number of peaks found (default 5 peaks).</p>
</div></blockquote>
<p><strong>B</strong> : ndarray, optional</p>
<blockquote>
<div><p>Matrix that transforms spherical harmonics to spherical function
<code class="docutils literal"><span class="pre">sf</span> <span class="pre">=</span> <span class="pre">np.dot(sh,</span> <span class="pre">B)</span></code>.</p>
</div></blockquote>
<p><strong>invB</strong> : ndarray, optional</p>
<blockquote>
<div><p>Inverse of B.</p>
</div></blockquote>
<p><strong>parallel: bool</strong></p>
<blockquote>
<div><p>If True, use multiprocessing to compute peaks and metric
(default False). Temporary files are saved in the default temporary
directory of the system. It can be changed using <code class="docutils literal"><span class="pre">import</span> <span class="pre">tempfile</span></code>
and <code class="docutils literal"><span class="pre">tempfile.tempdir</span> <span class="pre">=</span> <span class="pre">'/path/to/tempdir'</span></code>.</p>
</div></blockquote>
<p><strong>nbr_processes: int</strong></p>
<blockquote>
<div><p>If <cite>parallel</cite> is True, the number of subprocesses to use
(default multiprocessing.cpu_count()).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pam</strong> : PeaksAndMetrics</p>
<blockquote class="last">
<div><p>An object with <code class="docutils literal"><span class="pre">gfa</span></code>, <code class="docutils literal"><span class="pre">peak_directions</span></code>, <code class="docutils literal"><span class="pre">peak_values</span></code>,
<code class="docutils literal"><span class="pre">peak_indices</span></code>, <code class="docutils literal"><span class="pre">odf</span></code>, <code class="docutils literal"><span class="pre">shm_coeffs</span></code> as attributes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="peaks-to-niftis">
<h3>peaks_to_niftis<a class="headerlink" href="#peaks-to-niftis" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.peaks_to_niftis">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">peaks_to_niftis</code><span class="sig-paren">(</span><em>pam</em>, <em>fname_shm</em>, <em>fname_dirs</em>, <em>fname_values</em>, <em>fname_indices</em>, <em>fname_gfa</em>, <em>reshape_dirs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.peaks_to_niftis" title="Permalink to this definition">¶</a></dt>
<dd><p>Save SH, directions, indices and values of peaks to Nifti.</p>
</dd></dl>

</div>
<div class="section" id="radial-diffusivity">
<h3>radial_diffusivity<a class="headerlink" href="#radial-diffusivity" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.radial_diffusivity">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">radial_diffusivity</code><span class="sig-paren">(</span><em>evals</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.radial_diffusivity" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>Radial Diffusivity (RD) of a diffusion tensor.
Also called perpendicular diffusivity.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array-like</p>
<blockquote>
<div><blockquote>
<div><p>Eigenvalues of a diffusion tensor, must be sorted in descending order
along <cite>axis</cite>.</p>
</div></blockquote>
<dl class="docutils">
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rd</strong> : array</p>
<blockquote class="last">
<div><p>Calculated RD.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>rac{lambda_2 + lambda_3}{2}</p>
</dd></dl>

</div>
<div class="section" id="read-bvals-bvecs">
<h3>read_bvals_bvecs<a class="headerlink" href="#read-bvals-bvecs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.read_bvals_bvecs">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">read_bvals_bvecs</code><span class="sig-paren">(</span><em>fbvals</em>, <em>fbvecs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.read_bvals_bvecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read b-values and b-vectors from disk</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fbvals</strong> : str</p>
<blockquote>
<div><p>Full path to file with b-values. None to not read bvals.</p>
</div></blockquote>
<p><strong>fbvecs</strong> : str</p>
<blockquote>
<div><p>Full path of file with b-vectors. None to not read bvecs.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bvals</strong> : array, (N,) or None</p>
<p class="last"><strong>bvecs</strong> : array, (N, 3) or None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Files can be either &#8216;.bvals&#8217;/&#8217;.bvecs&#8217; or &#8216;.txt&#8217; or &#8216;.npy&#8217; (containing
arrays stored with the appropriate values).</p>
</dd></dl>

</div>
<div class="section" id="save-peaks">
<h3>save_peaks<a class="headerlink" href="#save-peaks" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.save_peaks">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">save_peaks</code><span class="sig-paren">(</span><em>fname</em>, <em>pam</em>, <em>affine=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.save_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all important attributes of object PeaksAndMetrics in a PAM5 file
(HDF5).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : string</p>
<blockquote>
<div><p>Filename of PAM5 file</p>
</div></blockquote>
<p><strong>pam</strong> : PeaksAndMetrics</p>
<blockquote>
<div><p>Object holding peak_dirs, shm_coeffs and other attributes</p>
</div></blockquote>
<p><strong>affine</strong> : array</p>
<blockquote>
<div><p>The 4x4 matrix transforming the date from native to world coordinates.
PeaksAndMetrics should have that attribute but if not it can be
provided here. Default None.</p>
</div></blockquote>
<p><strong>verbose</strong> : bool</p>
<blockquote class="last">
<div><p>Print summary information about the saved file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="split-dki-param">
<h3>split_dki_param<a class="headerlink" href="#split-dki-param" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.reconst.split_dki_param">
<code class="descclassname">dipy.workflows.reconst.</code><code class="descname">split_dki_param</code><span class="sig-paren">(</span><em>dki_params</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.reconst.split_dki_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the diffusion tensor eigenvalues, the diffusion tensor
eigenvector matrix, and the 15 independent elements of the kurtosis tensor
from the model parameters estimated from the DKI model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dki_params</strong> : ndarray (x, y, z, 27) or (n, 27)</p>
<blockquote>
<div><p>All parameters estimated from the diffusion kurtosis model.
Parameters are ordered as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Three diffusion tensor&#8217;s eigenvalues</li>
<li>Three lines of the eigenvector matrix each containing the first,
second and third coordinates of the eigenvector</li>
<li>Fifteen elements of the kurtosis tensor</li>
</ol>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>eigvals</strong> : array (x, y, z, 3) or (n, 3)</p>
<blockquote>
<div><p>Eigenvalues from eigen decomposition of the tensor.</p>
</div></blockquote>
<p><strong>eigvecs</strong> : array (x, y, z, 3, 3) or (n, 3, 3)</p>
<blockquote>
<div><p>Associated eigenvectors from eigen decomposition of the tensor.
Eigenvectors are columnar (e.g. eigvecs[:,j] is associated with
eigvals[j])</p>
</div></blockquote>
<p><strong>kt</strong> : array (x, y, z, 15) or (n, 15)</p>
<blockquote class="last">
<div><p>Fifteen elements of the kurtosis tensor</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="medianotsuflow">
<h3><a class="reference internal" href="#dipy.workflows.segment.MedianOtsuFlow" title="dipy.workflows.segment.MedianOtsuFlow"><code class="xref py py-class docutils literal"><span class="pre">MedianOtsuFlow</span></code></a><a class="headerlink" href="#medianotsuflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.segment.MedianOtsuFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.segment.</code><code class="descname">MedianOtsuFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.MedianOtsuFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.segment.MedianOtsuFlow.get_short_name" title="dipy.workflows.segment.MedianOtsuFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.MedianOtsuFlow.run" title="dipy.workflows.segment.MedianOtsuFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(input_files[,&nbsp;save_masked,&nbsp;...])</td>
<td>Workflow wrapping the median_otsu segmentation method.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.segment.MedianOtsuFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.MedianOtsuFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.segment.MedianOtsuFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.MedianOtsuFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.segment.MedianOtsuFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>input_files</em>, <em>save_masked=False</em>, <em>median_radius=2</em>, <em>numpass=5</em>, <em>autocrop=False</em>, <em>vol_idx=None</em>, <em>dilate=None</em>, <em>out_dir=''</em>, <em>out_mask='brain_mask.nii.gz'</em>, <em>out_masked='dwi_masked.nii.gz'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.MedianOtsuFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow wrapping the median_otsu segmentation method.</p>
<p>Applies median_otsu segmentation on each file found by &#8216;globing&#8217;
<code class="docutils literal"><span class="pre">input_files</span></code> and saves the results in a directory specified by
<code class="docutils literal"><span class="pre">out_dir</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_files</strong> : string</p>
<blockquote>
<div><p>Path to the input volumes. This path may contain wildcards to
process multiple inputs at once.</p>
</div></blockquote>
<p><strong>save_masked</strong> : bool</p>
<blockquote>
<div><p>Save mask</p>
</div></blockquote>
<p><strong>median_radius</strong> : int, optional</p>
<blockquote>
<div><p>Radius (in voxels) of the applied median filter (default 2)</p>
</div></blockquote>
<p><strong>numpass</strong> : int, optional</p>
<blockquote>
<div><p>Number of pass of the median filter (default 5)</p>
</div></blockquote>
<p><strong>autocrop</strong> : bool, optional</p>
<blockquote>
<div><p>If True, the masked input_volumes will also be cropped using the
bounding box defined by the masked data. For example, if diffusion
images are of 1x1x1 (mm^3) or higher resolution auto-cropping could
reduce their size in memory and speed up some of the analysis.
(default False)</p>
</div></blockquote>
<p><strong>vol_idx</strong> : variable int, optional</p>
<blockquote>
<div><p>1D array representing indices of <code class="docutils literal"><span class="pre">axis=3</span></code> of a 4D <cite>input_volume</cite>
&#8216;None&#8217; (the default) corresponds to <code class="docutils literal"><span class="pre">(0,)</span></code> (assumes first volume
in 4D array). From cmd line use 3 4 5 6. From script use
[3, 4, 5, 6].</p>
</div></blockquote>
<p><strong>dilate</strong> : int, optional</p>
<blockquote>
<div><p>number of iterations for binary dilation (default &#8216;None&#8217;)</p>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_mask</strong> : string, optional</p>
<blockquote>
<div><p>Name of the mask volume to be saved (default &#8216;brain_mask.nii.gz&#8217;)</p>
</div></blockquote>
<p><strong>out_masked</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the masked volume to be saved (default &#8216;dwi_masked.nii.gz&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id65">
<h3><a class="reference internal" href="#dipy.workflows.segment.Workflow" title="dipy.workflows.segment.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.segment.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.segment.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow.get_io_iterator" title="dipy.workflows.segment.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow.get_short_name" title="dipy.workflows.segment.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow.get_sub_runs" title="dipy.workflows.segment.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow.manage_output_overwrite" title="dipy.workflows.segment.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.segment.Workflow.run" title="dipy.workflows.segment.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.segment.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.segment.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.segment.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.segment.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.segment.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.segment.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id66">
<h3>load_nifti<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.segment.load_nifti">
<code class="descclassname">dipy.workflows.segment.</code><code class="descname">load_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>return_img=False</em>, <em>return_voxsize=False</em>, <em>return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="median-otsu">
<h3>median_otsu<a class="headerlink" href="#median-otsu" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.segment.median_otsu">
<code class="descclassname">dipy.workflows.segment.</code><code class="descname">median_otsu</code><span class="sig-paren">(</span><em>input_volume</em>, <em>median_radius=4</em>, <em>numpass=4</em>, <em>autocrop=False</em>, <em>vol_idx=None</em>, <em>dilate=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.median_otsu" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple brain extraction tool method for images from DWI data.</p>
<p>It uses a median filter smoothing of the input_volumes <cite>vol_idx</cite> and an
automatic histogram Otsu thresholding technique, hence the name
<em>median_otsu</em>.</p>
<p>This function is inspired from Mrtrix&#8217;s bet which has default values
<code class="docutils literal"><span class="pre">median_radius=3</span></code>, <code class="docutils literal"><span class="pre">numpass=2</span></code>. However, from tests on multiple 1.5T
and 3T data     from GE, Philips, Siemens, the most robust choice is
<code class="docutils literal"><span class="pre">median_radius=4</span></code>, <code class="docutils literal"><span class="pre">numpass=4</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_volume</strong> : ndarray</p>
<blockquote>
<div><p>ndarray of the brain volume</p>
</div></blockquote>
<p><strong>median_radius</strong> : int</p>
<blockquote>
<div><p>Radius (in voxels) of the applied median filter (default: 4).</p>
</div></blockquote>
<p><strong>numpass: int</strong></p>
<blockquote>
<div><p>Number of pass of the median filter (default: 4).</p>
</div></blockquote>
<p><strong>autocrop: bool, optional</strong></p>
<blockquote>
<div><p>if True, the masked input_volume will also be cropped using the
bounding box defined by the masked data. Should be on if DWI is
upsampled to 1x1x1 resolution. (default: False).</p>
</div></blockquote>
<p><strong>vol_idx</strong> : None or array, optional</p>
<blockquote>
<div><p>1D array representing indices of <code class="docutils literal"><span class="pre">axis=3</span></code> of a 4D <cite>input_volume</cite> None
(the default) corresponds to <code class="docutils literal"><span class="pre">(0,)</span></code> (assumes first volume in
4D array).</p>
</div></blockquote>
<p><strong>dilate</strong> : None or int, optional</p>
<blockquote>
<div><p>number of iterations for binary dilation</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>maskedvolume</strong> : ndarray</p>
<blockquote>
<div><p>Masked input_volume</p>
</div></blockquote>
<p><strong>mask</strong> : 3D ndarray</p>
<blockquote class="last">
<div><p>The binary brain mask</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Copyright (C) 2011, the scikit-image team
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the
distribution.</li>
<li>Neither the name of skimage nor the names of its contributors may be
used to endorse or promote products derived from this software without
specific prior written permission.</li>
</ol>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR <a href="#id67"><span class="problematic" id="id68">``</span></a>AS IS&#8217;&#8217; AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</p>
</dd></dl>

</div>
<div class="section" id="id69">
<h3>save_nifti<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.segment.save_nifti">
<code class="descclassname">dipy.workflows.segment.</code><code class="descname">save_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>data</em>, <em>affine</em>, <em>hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.segment.save_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="dettrackpamflow">
<h3><a class="reference internal" href="#dipy.workflows.tracking.DetTrackPAMFlow" title="dipy.workflows.tracking.DetTrackPAMFlow"><code class="xref py py-class docutils literal"><span class="pre">DetTrackPAMFlow</span></code></a><a class="headerlink" href="#dettrackpamflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.DetTrackPAMFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">DetTrackPAMFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.DetTrackPAMFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.tracking.GenericTrackFlow" title="dipy.workflows.tracking.GenericTrackFlow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.tracking.GenericTrackFlow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.DetTrackPAMFlow.get_short_name" title="dipy.workflows.tracking.DetTrackPAMFlow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.DetTrackPAMFlow.run" title="dipy.workflows.tracking.DetTrackPAMFlow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>(pam_files,&nbsp;stopping_files,&nbsp;seeding_files)</td>
<td>Workflow for deterministic using a saved peaks and metrics (PAM) file as input.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.DetTrackPAMFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.DetTrackPAMFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.tracking.DetTrackPAMFlow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.DetTrackPAMFlow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.DetTrackPAMFlow.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>pam_files</em>, <em>stopping_files</em>, <em>seeding_files</em>, <em>stopping_thr=0.2</em>, <em>seed_density=1</em>, <em>use_sh=False</em>, <em>out_dir=''</em>, <em>out_tractogram='tractogram.trk'</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.DetTrackPAMFlow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Workflow for deterministic using a saved peaks and metrics (PAM)
file as input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pam_files</strong> : string</p>
<blockquote>
<div><dl class="docutils">
<dt>Path to the peaks and metrics files. This path may contain</dt>
<dd><p class="first last">wildcards to use multiple masks at once.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>stopping_files</strong> : string</p>
<blockquote>
<div><p>Path of FA or other images used for stopping criteria for tracking.</p>
</div></blockquote>
<p><strong>seeding_files</strong> : string</p>
<blockquote>
<div><p>A binary image showing where we need to seed for tracking.</p>
</div></blockquote>
<p><strong>stopping_thr</strong> : float, optional</p>
<blockquote>
<div><dl class="docutils">
<dt>Threshold applied to stopping volume&#8217;s data to identify where</dt>
<dd><p class="first last">tracking has to stop (default 0.25).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>seed_density</strong> : int, optional</p>
<blockquote>
<div><dl class="docutils">
<dt>Number of seeds per dimension inside voxel (default 1).</dt>
<dd><p class="first last">For example, seed_density of 2 means 8 regularly distributed points
in the voxel. And seed density of 1 means 1 point at the center
of the voxel.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>use_sh</strong> : bool, optional</p>
<blockquote>
<div><dl class="docutils">
<dt>Use spherical harmonics saved in peaks to find the</dt>
<dd><p class="first last">maximum peak cone. (default False)</p>
</dd>
</dl>
</div></blockquote>
<p><strong>out_dir</strong> : string, optional</p>
<blockquote>
<div><p>Output directory (default input file directory)</p>
</div></blockquote>
<p><strong>out_tractogram</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the tractogram file to be saved (default &#8216;tractogram.trk&#8217;)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Garyfallidis, University of Cambridge, PhD thesis 2012.
Amirbekian, University of California San Francisco, PhD thesis 2017.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="deterministicmaximumdirectiongetter">
<h3><a class="reference internal" href="#dipy.workflows.tracking.DeterministicMaximumDirectionGetter" title="dipy.workflows.tracking.DeterministicMaximumDirectionGetter"><code class="xref py py-class docutils literal"><span class="pre">DeterministicMaximumDirectionGetter</span></code></a><a class="headerlink" href="#deterministicmaximumdirectiongetter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.DeterministicMaximumDirectionGetter">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">DeterministicMaximumDirectionGetter</code><a class="headerlink" href="#dipy.workflows.tracking.DeterministicMaximumDirectionGetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dipy.direction.probabilistic_direction_getter.ProbabilisticDirectionGetter</span></code></p>
<p>Return direction of a sphere with the highest probability mass
function (pmf).</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">from_pmf</span></code></td>
<td>Constructor for making a DirectionGetter from an array of Pmfs</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">from_shcoeff</span></code></td>
<td>Probabilistic direction getter from a distribution of directions</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_direction</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">initial_direction</span></code></td>
<td>Returns best directions at seed location to start tracking.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.DeterministicMaximumDirectionGetter.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.DeterministicMaximumDirectionGetter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="generictrackflow">
<h3><a class="reference internal" href="#dipy.workflows.tracking.GenericTrackFlow" title="dipy.workflows.tracking.GenericTrackFlow"><code class="xref py py-class docutils literal"><span class="pre">GenericTrackFlow</span></code></a><a class="headerlink" href="#generictrackflow" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.GenericTrackFlow">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">GenericTrackFlow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.GenericTrackFlow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">dipy.workflows.workflow.Workflow</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">run</span></code>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.GenericTrackFlow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.GenericTrackFlow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="localtracking">
<h3><a class="reference internal" href="#dipy.workflows.tracking.LocalTracking" title="dipy.workflows.tracking.LocalTracking"><code class="xref py py-class docutils literal"><span class="pre">LocalTracking</span></code></a><a class="headerlink" href="#localtracking" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.LocalTracking">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">LocalTracking</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.LocalTracking" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="dipy.workflows.tracking.LocalTracking.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.LocalTracking.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates streamlines by using local fiber-tracking.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>direction_getter</strong> : instance of DirectionGetter</p>
<blockquote>
<div><p>Used to get directions for fiber tracking.</p>
</div></blockquote>
<p><strong>tissue_classifier</strong> : instance of TissueClassifier</p>
<blockquote>
<div><p>Identifies endpoints and invalid points to inform tracking.</p>
</div></blockquote>
<p><strong>seeds</strong> : array (N, 3)</p>
<blockquote>
<div><p>Points to seed the tracking. Seed points should be given in point
space of the track (see <code class="docutils literal"><span class="pre">affine</span></code>).</p>
</div></blockquote>
<p><strong>affine</strong> : array (4, 4)</p>
<blockquote>
<div><p>Coordinate space for the streamline point with respect to voxel
indices of input data. This affine can contain scaling, rotational,
and translational components but should not contain any shearing.
An identity matrix can be used to generate streamlines in &#8220;voxel
coordinates&#8221; as long as isotropic voxels were used to acquire the
data.</p>
</div></blockquote>
<p><strong>step_size</strong> : float</p>
<blockquote>
<div><p>Step size used for tracking.</p>
</div></blockquote>
<p><strong>max_cross</strong> : int or None</p>
<blockquote>
<div><p>The maximum number of direction to track from each seed in crossing
voxels. By default all initial directions are tracked.</p>
</div></blockquote>
<p><strong>maxlen</strong> : int</p>
<blockquote>
<div><p>Maximum number of steps to track from seed. Used to prevent
infinite loops.</p>
</div></blockquote>
<p><strong>fixedstep</strong> : bool</p>
<blockquote>
<div><p>If true, a fixed stepsize is used, otherwise a variable step size
is used.</p>
</div></blockquote>
<p><strong>return_all</strong> : bool</p>
<blockquote class="last">
<div><p>If true, return all generated streamlines, otherwise only
streamlines reaching end points or exiting the image.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="thresholdtissueclassifier">
<h3><a class="reference internal" href="#dipy.workflows.tracking.ThresholdTissueClassifier" title="dipy.workflows.tracking.ThresholdTissueClassifier"><code class="xref py py-class docutils literal"><span class="pre">ThresholdTissueClassifier</span></code></a><a class="headerlink" href="#thresholdtissueclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.ThresholdTissueClassifier">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">ThresholdTissueClassifier</code><a class="headerlink" href="#dipy.workflows.tracking.ThresholdTissueClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>
<p># Declarations from tissue_classifier.pxd bellow
cdef:</p>
<blockquote>
<div>double threshold, interp_out_double[1]
double[:]  interp_out_view = interp_out_view
double[:, :, :] metric_map</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">check_point</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.ThresholdTissueClassifier.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.ThresholdTissueClassifier.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tractogram">
<h3><a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a><a class="headerlink" href="#tractogram" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.Tractogram">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">Tractogram</code><span class="sig-paren">(</span><em>streamlines=None</em>, <em>data_per_streamline=None</em>, <em>data_per_point=None</em>, <em>affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Container for streamlines and their data information.</p>
<p>Streamlines of a tractogram can be in any coordinate system of your
choice as long as you provide the correct <cite>affine_to_rasmm</cite> matrix, at
construction time. When applied to streamlines coordinates, that
transformation matrix should bring the streamlines back to world space
(RAS+ and mm space) <a href="#id78"><span class="problematic" id="id79"><span id="id70"></span>[1]_</span></a>.</p>
<p>Moreover, when streamlines are mapped back to voxel space <a href="#id80"><span class="problematic" id="id81"><span id="id71"></span>[2]_</span></a>, a
streamline point located at an integer coordinate (i,j,k) is considered
to be at the center of the corresponding voxel. This is in contrast with
other conventions where it might have referred to a corner.</p>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces">http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces</a>
[2] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space">http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space</a></p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>streamlines</td>
<td>(<code class="xref py py-class docutils literal"><span class="pre">ArraySequence</span></code> object) Sequence of <span class="math">\(T\)</span> streamlines. Each streamline is an ndarray of shape (<span class="math">\(N_t\)</span>, 3) where <span class="math">\(N_t\)</span> is the number of points of streamline <span class="math">\(t\)</span>.</td>
</tr>
<tr class="row-even"><td>data_per_streamline</td>
<td>(<code class="xref py py-class docutils literal"><span class="pre">PerArrayDict</span></code> object) Dictionary where the items are (str, 2D array).  Each key represents a piece of information <span class="math">\(i\)</span> to be kept alongside every streamline, and its associated value is a 2D array of shape (<span class="math">\(T\)</span>, <span class="math">\(P_i\)</span>) where <span class="math">\(T\)</span> is the number of streamlines and <span class="math">\(P_i\)</span> is the number of values to store for that particular piece of information <span class="math">\(i\)</span>.</td>
</tr>
<tr class="row-odd"><td>data_per_point</td>
<td>(<code class="xref py py-class docutils literal"><span class="pre">PerArraySequenceDict</span></code> object) Dictionary where the items are (str, <code class="xref py py-class docutils literal"><span class="pre">ArraySequence</span></code>).  Each key represents a piece of information <span class="math">\(i\)</span> to be kept alongside every point of every streamline, and its associated value is an iterable of ndarrays of shape (<span class="math">\(N_t\)</span>, <span class="math">\(M_i\)</span>) where <span class="math">\(N_t\)</span> is the number of points for a particular streamline <span class="math">\(t\)</span> and <span class="math">\(M_i\)</span> is the number values to store for that particular piece of information <span class="math">\(i\)</span>.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Tractogram.apply_affine" title="dipy.workflows.tracking.Tractogram.apply_affine"><code class="xref py py-obj docutils literal"><span class="pre">apply_affine</span></code></a>(affine[,&nbsp;lazy])</td>
<td>Applies an affine transformation on the points of each streamline.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.Tractogram.copy" title="dipy.workflows.tracking.Tractogram.copy"><code class="xref py py-obj docutils literal"><span class="pre">copy</span></code></a>()</td>
<td>Returns a copy of this <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Tractogram.extend" title="dipy.workflows.tracking.Tractogram.extend"><code class="xref py py-obj docutils literal"><span class="pre">extend</span></code></a>(other)</td>
<td>Appends the data of another <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.Tractogram.to_world" title="dipy.workflows.tracking.Tractogram.to_world"><code class="xref py py-obj docutils literal"><span class="pre">to_world</span></code></a>([lazy])</td>
<td>Brings the streamlines to world space (i.e.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.Tractogram.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>streamlines=None</em>, <em>data_per_streamline=None</em>, <em>data_per_point=None</em>, <em>affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.__init__" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>streamlines</strong> : iterable of ndarrays or <code class="xref py py-class docutils literal"><span class="pre">ArraySequence</span></code>, optional</p>
<blockquote>
<div><p>Sequence of <span class="math">\(T\)</span> streamlines. Each streamline is an ndarray of
shape (<span class="math">\(N_t\)</span>, 3) where <span class="math">\(N_t\)</span> is the number of points of
streamline <span class="math">\(t\)</span>.</p>
</div></blockquote>
<p><strong>data_per_streamline</strong> : dict of iterable of ndarrays, optional</p>
<blockquote>
<div><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math">\(i\)</span> to be kept alongside every
streamline, and its associated value is an iterable of ndarrays of
shape (<span class="math">\(P_i\)</span>,) where <span class="math">\(P_i\)</span> is the number of scalar values to store
for that particular information <span class="math">\(i\)</span>.</p>
</div></blockquote>
<p><strong>data_per_point</strong> : dict of iterable of ndarrays, optional</p>
<blockquote>
<div><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math">\(i\)</span> to be kept alongside every
point of every streamline, and its associated value is an iterable
of ndarrays of shape (<span class="math">\(N_t\)</span>, <span class="math">\(M_i\)</span>) where <span class="math">\(N_t\)</span> is the number of
points for a particular streamline <span class="math">\(t\)</span> and <span class="math">\(M_i\)</span> is the number
scalar values to store for that particular information <span class="math">\(i\)</span>.</p>
</div></blockquote>
<p><strong>affine_to_rasmm</strong> : ndarray of shape (4, 4) or None, optional</p>
<blockquote class="last">
<div><p>Transformation matrix that brings the streamlines contained in
this tractogram to <em>RAS+</em> and <em>mm</em> space where coordinate (0,0,0)
refers to the center of the voxel. By default, the streamlines
are in an unknown space, i.e. affine_to_rasmm is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.tracking.Tractogram.affine_to_rasmm">
<code class="descname">affine_to_rasmm</code><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.affine_to_rasmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Affine bringing streamlines in this tractogram to RAS+mm.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Tractogram.apply_affine">
<code class="descname">apply_affine</code><span class="sig-paren">(</span><em>affine</em>, <em>lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies an affine transformation on the points of each streamline.</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>affine</strong> : ndarray of shape (4, 4)</p>
<blockquote>
<div><p>Transformation that will be applied to every streamline.</p>
</div></blockquote>
<p><strong>lazy</strong> : {False, True}, optional</p>
<blockquote>
<div><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tractogram</strong> : <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code> object</p>
<blockquote class="last">
<div><p>Tractogram where the streamlines have been transformed according
to the given affine transformation. If the <cite>lazy</cite> option is true,
it returns a <code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code> object, otherwise it returns a
reference to this <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object with updated
streamlines.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Tractogram.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of this <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.tracking.Tractogram.data_per_point">
<code class="descname">data_per_point</code><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.data_per_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.tracking.Tractogram.data_per_streamline">
<code class="descname">data_per_streamline</code><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.data_per_streamline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Tractogram.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the data of another <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a>.</p>
<p>Data that will be appended includes the streamlines and the content
of both dictionaries <cite>data_per_streamline</cite> and <cite>data_per_point</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> : <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object</p>
<blockquote>
<div><p>Its data will be appended to the data of this tractogram.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The entries in both dictionaries <cite>self.data_per_streamline</cite> and
<cite>self.data_per_point</cite> must match respectively those contained in
the other tractogram.</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.workflows.tracking.Tractogram.streamlines">
<code class="descname">streamlines</code><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.streamlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Tractogram.to_world">
<code class="descname">to_world</code><span class="sig-paren">(</span><em>lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Tractogram.to_world" title="Permalink to this definition">¶</a></dt>
<dd><p>Brings the streamlines to world space (i.e. RAS+ and mm).</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lazy</strong> : {False, True}, optional</p>
<blockquote>
<div><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tractogram</strong> : <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code> object</p>
<blockquote class="last">
<div><p>Tractogram where the streamlines have been sent to world space.
If the <cite>lazy</cite> option is true, it returns a <code class="xref py py-class docutils literal"><span class="pre">LazyTractogram</span></code>
object, otherwise it returns a reference to this
<a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object with updated streamlines.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id72">
<h3><a class="reference internal" href="#dipy.workflows.tracking.Workflow" title="dipy.workflows.tracking.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.tracking.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.tracking.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow.get_io_iterator" title="dipy.workflows.tracking.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow.get_short_name" title="dipy.workflows.tracking.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow.get_sub_runs" title="dipy.workflows.tracking.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow.manage_output_overwrite" title="dipy.workflows.tracking.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.tracking.Workflow.run" title="dipy.workflows.tracking.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.tracking.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.tracking.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.tracking.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id73">
<h3>load_nifti<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.tracking.load_nifti">
<code class="descclassname">dipy.workflows.tracking.</code><code class="descname">load_nifti</code><span class="sig-paren">(</span><em>fname</em>, <em>return_img=False</em>, <em>return_voxsize=False</em>, <em>return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="load-peaks">
<h3>load_peaks<a class="headerlink" href="#load-peaks" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.tracking.load_peaks">
<code class="descclassname">dipy.workflows.tracking.</code><code class="descname">load_peaks</code><span class="sig-paren">(</span><em>fname</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.load_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a PeaksAndMetrics HDF5 file (PAM5)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fname</strong> : string</p>
<blockquote>
<div><p>Filename of PAM5 file.</p>
</div></blockquote>
<p><strong>verbose</strong> : bool</p>
<blockquote>
<div><p>Print summary information about the loaded file.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>pam</strong> : PeaksAndMetrics object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="save">
<h3>save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.tracking.save">
<code class="descclassname">dipy.workflows.tracking.</code><code class="descname">save</code><span class="sig-paren">(</span><em>tractogram</em>, <em>filename</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.tracking.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a tractogram to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tractogram</strong> : <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object or <code class="xref py py-class docutils literal"><span class="pre">TractogramFile</span></code> object</p>
<blockquote>
<div><p>If <a class="reference internal" href="#dipy.workflows.tracking.Tractogram" title="dipy.workflows.tracking.Tractogram"><code class="xref py py-class docutils literal"><span class="pre">Tractogram</span></code></a> object, the file format will be guessed from
<cite>filename</cite> and a <code class="xref py py-class docutils literal"><span class="pre">TractogramFile</span></code> object will be created using
provided keyword arguments.
If <code class="xref py py-class docutils literal"><span class="pre">TractogramFile</span></code> object, the file format is known and will
be used to save its content to <cite>filename</cite>.</p>
</div></blockquote>
<p><strong>filename</strong> : str</p>
<blockquote>
<div><p>Name of the file where the tractogram will be saved.</p>
</div></blockquote>
<p><strong>**kwargs</strong> : keyword arguments</p>
<blockquote class="last">
<div><p>Keyword arguments passed to <code class="xref py py-class docutils literal"><span class="pre">TractogramFile</span></code> constructor.
Should not be specified if <cite>tractogram</cite> is already an instance of
<code class="xref py py-class docutils literal"><span class="pre">TractogramFile</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="id74">
<h3><a class="reference internal" href="#dipy.workflows.workflow.Workflow" title="dipy.workflows.workflow.Workflow"><code class="xref py py-class docutils literal"><span class="pre">Workflow</span></code></a><a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.workflows.workflow.Workflow">
<em class="property">class </em><code class="descclassname">dipy.workflows.workflow.</code><code class="descname">Workflow</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow.get_io_iterator" title="dipy.workflows.workflow.Workflow.get_io_iterator"><code class="xref py py-obj docutils literal"><span class="pre">get_io_iterator</span></code></a>()</td>
<td>Create an iterator for IO.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow.get_short_name" title="dipy.workflows.workflow.Workflow.get_short_name"><code class="xref py py-obj docutils literal"><span class="pre">get_short_name</span></code></a>()</td>
<td>A short name for the workflow used to subdivide</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow.get_sub_runs" title="dipy.workflows.workflow.Workflow.get_sub_runs"><code class="xref py py-obj docutils literal"><span class="pre">get_sub_runs</span></code></a>()</td>
<td>No sub runs since this is a simple workflow.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow.manage_output_overwrite" title="dipy.workflows.workflow.Workflow.manage_output_overwrite"><code class="xref py py-obj docutils literal"><span class="pre">manage_output_overwrite</span></code></a>()</td>
<td>Check if a file will be overwritten upon processing the inputs.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#dipy.workflows.workflow.Workflow.run" title="dipy.workflows.workflow.Workflow.run"><code class="xref py py-obj docutils literal"><span class="pre">run</span></code></a>()</td>
<td>Since this is an abstract class, raise exception if this code is</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.workflows.workflow.Workflow.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>output_strategy='append'</em>, <em>mix_names=False</em>, <em>force=False</em>, <em>skip=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic workflow object.</p>
<p>This object takes care of any workflow operation that is common to all
the workflows. Every new workflow should extend this class.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.workflow.Workflow.get_io_iterator">
<code class="descname">get_io_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.get_io_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an iterator for IO.</p>
<p>Use a couple of inspection tricks to build an IOIterator using the
previous frame (values of local variables and other contextuals) and
the run method&#8217;s docstring.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dipy.workflows.workflow.Workflow.get_short_name">
<em class="property">classmethod </em><code class="descname">get_short_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A short name for the workflow used to subdivide</p>
<p>The short name is used by CombinedWorkflows and the argparser to
subdivide the commandline parameters avoiding the trouble of having
subworkflows parameters with the same name.</p>
<p>For example, a combined workflow with dti reconstruction and csd
reconstruction might en up with the b0_threshold parameter. Using short
names, we will have dti.b0_threshold and csd.b0_threshold available.</p>
<p>Returns class name by default but it is strongly advised to set it to
something shorter and easier to write on commandline.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.workflow.Workflow.get_sub_runs">
<code class="descname">get_sub_runs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.get_sub_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>No sub runs since this is a simple workflow.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.workflow.Workflow.manage_output_overwrite">
<code class="descname">manage_output_overwrite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.manage_output_overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a file will be overwritten upon processing the inputs.</p>
<p>If it is bound to happen, an action is taken depending on
self._force_overwrite (or &#8211;force via command line). A log message is
output independently of the outcome to tell the user something
happened.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.workflows.workflow.Workflow.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.Workflow.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Since this is an abstract class, raise exception if this code is
reached (not impletemented in child class or literally called on this
class)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id75">
<h3><a href="#id82"><span class="problematic" id="id83">io_iterator_</span></a><a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.workflows.workflow.io_iterator_">
<code class="descclassname">dipy.workflows.workflow.</code><code class="descname">io_iterator_</code><span class="sig-paren">(</span><em>frame</em>, <em>fnc</em>, <em>output_strategy='append'</em>, <em>mix_names=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.workflows.workflow.io_iterator_" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an IOIterator using introspection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>frame</strong> : frameobject</p>
<blockquote>
<div><blockquote>
<div><p>Contains the info about the current local variables values.</p>
</div></blockquote>
<dl class="docutils">
<dt>fnc <span class="classifier-delimiter">:</span> <span class="classifier">function</span></dt>
<dd><p class="first last">The function to inspect</p>
</dd>
<dt>output_strategy <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Controls the behavior of the IOIterator for output paths.</p>
</dd>
<dt>mix_names <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Whether or not to append a mix of input names at the beginning.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<blockquote class="last">
<div><p>Properly instantiated IOIterator object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >API Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2018, dipy developers &lt;neuroimaging@python.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>